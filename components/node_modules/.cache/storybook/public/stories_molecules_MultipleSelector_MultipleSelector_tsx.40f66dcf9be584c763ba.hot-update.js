"use strict";
self["webpackHotUpdatecomponents"]("stories_molecules_MultipleSelector_MultipleSelector_tsx",{

/***/ "./stories/molecules/InputAdornment/InputAdornment.tsx":
/*!*************************************************************!*\
  !*** ./stories/molecules/InputAdornment/InputAdornment.tsx ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "InputAdornment": () => (/* binding */ InputAdornment)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _layout_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../layout/index */ "./stories/layout/index.ts");
/* harmony import */ var _atoms_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../atoms/index */ "./stories/atoms/index.ts");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../helpers */ "./helpers/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");






const InputAdornment = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().forwardRef(function InputAdornment({
  background = (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.getGlobalStyle)('--color-base-white'),
  border,
  borderRadius = '8px',
  customClassName,
  fontSize = 'base',
  height,
  id,
  inputAdornmentEnd,
  inputAdornmentStart,
  inputWidth = '100%',
  padding,
  placeholder,
  placeholderColor,
  textAlign = 'left',
  titleInput,
  type,
  width = '100',
  ...props
}, ref) {
  const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_layout_index__WEBPACK_IMPORTED_MODULE_1__.Container, {
    customClassName: customClassName,
    ref: ref,
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_layout_index__WEBPACK_IMPORTED_MODULE_1__.Row, {
      alignItems: "center",
      background: background,
      border: border,
      borderRadius: borderRadius,
      customHeight: height,
      customWidth: width,
      justifyContent: "between",
      onClick: () => {
        inputRef?.current?.focus();
      },
      padding: padding,
      children: [inputAdornmentStart && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_layout_index__WEBPACK_IMPORTED_MODULE_1__.Column, {
        clickable: "pointer",
        maxWidth: "min-content",
        padding: "0 5px 0 0",
        children: inputAdornmentStart
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atoms_index__WEBPACK_IMPORTED_MODULE_2__.Input, {
        background: "transparent",
        fontSize: fontSize,
        id: id,
        placeholder: placeholder,
        placeholderColor: placeholderColor,
        ref: inputRef,
        textAlign: textAlign,
        title: titleInput,
        type: type ? type : 'text',
        width: inputWidth,
        ...props
      }), inputAdornmentEnd && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_layout_index__WEBPACK_IMPORTED_MODULE_1__.Column, {
        clickable: "pointer",
        maxWidth: "min-content",
        padding: "0 0 0 5px",
        children: inputAdornmentEnd
      })]
    })
  });
});

/***/ }),

/***/ "./stories/molecules/InputIcon/InputIcon.tsx":
/*!***************************************************!*\
  !*** ./stories/molecules/InputIcon/InputIcon.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "InputIcon": () => (/* binding */ InputIcon)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _layout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../layout */ "./stories/layout/index.ts");
/* harmony import */ var _atoms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../atoms */ "./stories/atoms/index.ts");
/* harmony import */ var _InputAdornment_InputAdornment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../InputAdornment/InputAdornment */ "./stories/molecules/InputAdornment/InputAdornment.tsx");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../helpers */ "./helpers/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");







const InputIcon = ({
  autofocus = false,
  background = (0,_helpers__WEBPACK_IMPORTED_MODULE_4__.getGlobalStyle)('--color-base-white'),
  backgroundGradientIconSearch,
  backgroundIcon = (0,_helpers__WEBPACK_IMPORTED_MODULE_4__.getGlobalStyle)('--color-base-transparent'),
  border,
  borderRadius = (0,_helpers__WEBPACK_IMPORTED_MODULE_4__.getGlobalStyle)('--border-radius-2xs'),
  clearButton = false,
  colorIcon = '#000',
  customPadding,
  customSizeIcon = 20,
  fontSize = 'base',
  height = '40px',
  icon = 'SearchCart',
  iconBorderRadius = '8px',
  iconWidth = '15',
  id,
  inputAdornmentRef,
  inputCustomClass,
  inputWidth = '100%',
  padding = '10px',
  placeholder,
  placeholderColor,
  placeholderFocus,
  site = 'unimarc',
  textAlignInput = 'left',
  titleSearch = 'titleSearch',
  value,
  width = '100',
  onBlurSearch,
  onChangeSearch,
  onClearInput,
  onClickSearch,
  onKeyPressSearch,
  onFocusSearch
}) => {
  const unimarcSite = site === 'unimarc';
  const alviHeight = '40px';
  const customHeight = unimarcSite ? height : alviHeight;
  const customSizeInputIcon = unimarcSite ? customSizeIcon : 21;
  const ClearIcon = () => {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_1__.Column, {
      alignItems: "start",
      borderRadius: "8px",
      clickable: "pointer",
      customHeight: "100%",
      customWidth: iconWidth,
      justifyContent: "center",
      onClick: onClearInput,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Icon, {
        clickable: "pointer",
        color: (0,_helpers__WEBPACK_IMPORTED_MODULE_4__.getGlobalStyle)('--color-icons-gray'),
        customSize: 16,
        name: "Close"
      })
    });
  };
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_1__.Row, {
    alignItems: "center",
    backgroundColor: background,
    border: border,
    borderRadius: borderRadius,
    customHeight: customHeight,
    customWidth: width,
    justifyContent: "center",
    padding: customPadding,
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_1__.Column, {
      className: inputCustomClass,
      padding: padding,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("form", {
        "aria-label": "Search bar form",
        id: "search-product",
        onSubmit: e => {
          e.preventDefault();
        },
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_InputAdornment_InputAdornment__WEBPACK_IMPORTED_MODULE_3__.InputAdornment, {
          autoFocus: autofocus,
          fontSize: fontSize,
          id: id,
          inputAdornmentEnd: clearButton && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ClearIcon, {}),
          onBlur: onBlurSearch,
          onChange: onChangeSearch,
          onFocus: e => {
            if (e.target.value) {
              onFocusSearch(e);
            }
          },
          onKeyDown: onKeyPressSearch,
          placeholder: placeholder,
          placeholderColor: placeholderColor,
          placeholderFocus: placeholderFocus,
          ref: inputAdornmentRef,
          textAlign: textAlignInput,
          title: titleSearch,
          value: value,
          width: inputWidth
        })
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_1__.Column, {
      alignItems: "center",
      background: backgroundGradientIconSearch,
      backgroundColor: backgroundIcon,
      borderRadius: iconBorderRadius,
      clickable: "pointer",
      customHeight: "100%",
      customWidth: iconWidth,
      justifyContent: "center",
      onClick: onClickSearch,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Icon, {
        clickable: "pointer",
        color: colorIcon,
        customSize: customSizeInputIcon,
        name: icon
      })
    })]
  });
};
InputIcon.displayName = "InputIcon";

/***/ }),

/***/ "./stories/molecules/MultipleSelector/MultipleSelector.tsx":
/*!*****************************************************************!*\
  !*** ./stories/molecules/MultipleSelector/MultipleSelector.tsx ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MultipleSelector": () => (/* binding */ MultipleSelector)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
Object(function webpackMissingModule() { var e = new Error("Cannot find module 'classnames'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
/* harmony import */ var _layout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../layout */ "./stories/layout/index.ts");
/* harmony import */ var _atoms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../atoms */ "./stories/atoms/index.ts");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../helpers */ "./helpers/index.ts");
/* harmony import */ var _InputIcon_InputIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../InputIcon/InputIcon */ "./stories/molecules/InputIcon/InputIcon.tsx");
/* harmony import */ var _ListOptions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ListOptions */ "./stories/molecules/MultipleSelector/ListOptions.tsx");
/* harmony import */ var _MultipleSelector_module_css__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./MultipleSelector.module.css */ "./stories/molecules/MultipleSelector/MultipleSelector.module.css");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");










const MultipleSelector = ({
  onlyOneChecked = false,
  options = [],
  placeholderSearch = 'Buscar marca',
  title = 'Marcas',
  onConfirmation
}) => {
  const [mainOptions, setMainOptions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(options);
  const [textSearch, setTextSearch] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');
  const [focusSearch, setFocusSearch] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [temporalOptions, setTemporalOptions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(options);
  const [statusButton, setStatusButton] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);
  const [showOptions, setShowOptions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const inputAdornmentRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const onCloseRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const maxWithComponents = '230px';
  const onClickCheckBox = ({
    e,
    key,
    value
  }) => {
    let newList = [...temporalOptions];
    let optionList = [...mainOptions];
    const checked = !temporalOptions[key]?.checked;
    const changeOption = {
      ...temporalOptions[key],
      checked
    };
    if (onlyOneChecked) {
      optionList = optionList?.map(option => {
        return {
          ...option,
          checked: false
        };
      });
      newList = temporalOptions?.map(option => {
        return {
          ...option,
          checked: false
        };
      });
    }
    const indexMainOption = mainOptions?.findIndex(option => {
      return option.value === value;
    });
    optionList[indexMainOption] = newList[key] = changeOption;
    setMainOptions([...optionList]);
    setTemporalOptions([...newList]);
    e.preventDefault();
  };
  const onSubmit = () => {
    const listCheked = mainOptions?.filter(option => {
      return option.checked;
    });
    setShowOptions(false);
    if (onConfirmation) onConfirmation(listCheked);
  };
  const onClickClearSearch = () => {
    inputAdornmentRef.current.children[0].children[0].value = '';
    setTextSearch('');
  };
  const handleShowOptions = () => {
    setShowOptions(!showOptions);
  };
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    setMainOptions(options);
    setTemporalOptions(options);
  }, [JSON.stringify(options)]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const buttonStatus = temporalOptions?.length > 0 && temporalOptions?.some(option => {
      return option?.checked === true;
    });
    setStatusButton(buttonStatus);
  }, [temporalOptions]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const newList = [...mainOptions];
    const filter = newList?.length > 0 && newList?.filter(option => {
      const brand = option?.value?.toLowerCase();
      return brand?.includes(textSearch?.toLowerCase());
    });
    setTemporalOptions(filter);
  }, [textSearch]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const clickOutside = e => {
      if (onCloseRef?.current?.contains(e?.target)) {
        return;
      }
      setShowOptions(false);
    };
    document.body.addEventListener('mousedown', clickOutside);
    return () => {
      document.body.removeEventListener('mousedown', clickOutside);
    };
  }, [showOptions]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_2__.Container, {
    isWrap: true,
    maxWidth: maxWithComponents,
    ref: onCloseRef,
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_2__.Row, {
      alignItems: "center",
      borderColor: (0,_helpers__WEBPACK_IMPORTED_MODULE_4__.getGlobalStyle)('--color-neutral-gray'),
      borderEdge: "right",
      clickable: "pointer",
      justifyContent: "between",
      maxWidth: maxWithComponents,
      onClick: handleShowOptions,
      padding: "0 32px 0 0",
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.Text, {
        clickable: "pointer",
        customColor: (0,_helpers__WEBPACK_IMPORTED_MODULE_4__.getGlobalStyle)('--color-text-black'),
        type: "span",
        children: title
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.Icon, {
        clickable: "pointer",
        color: (0,_helpers__WEBPACK_IMPORTED_MODULE_4__.getGlobalStyle)('--color-icons-black'),
        customSize: 16,
        name: !showOptions ? 'DropDownClose' : 'DropDownOpen'
      })]
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_2__.Column, {
      borderRadius: "8px",
      className: Object(function webpackMissingModule() { var e = new Error("Cannot find module 'classnames'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(_MultipleSelector_module_css__WEBPACK_IMPORTED_MODULE_7__["default"].optionsContainer, {
        [_MultipleSelector_module_css__WEBPACK_IMPORTED_MODULE_7__["default"][`display--options`]]: showOptions,
        [_MultipleSelector_module_css__WEBPACK_IMPORTED_MODULE_7__["default"][`hide--options`]]: !showOptions
      }),
      height: "306px",
      maxWidth: maxWithComponents,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_2__.Column, {
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_2__.Row, {
          padding: "12px",
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_InputIcon_InputIcon__WEBPACK_IMPORTED_MODULE_5__.InputIcon, {
            border: "1px solid #666666",
            borderRadius: "20px",
            colorIcon: "#666666",
            customPadding: "5px",
            customSizeIcon: textSearch?.length > 0 ? 17 : 21,
            fontSize: "md",
            height: "35px",
            icon: textSearch?.length > 0 ? 'Close' : 'SearchCart',
            id: "search",
            inputAdornmentRef: inputAdornmentRef,
            onBlurSearch: () => {
              return setFocusSearch(false);
            },
            onChangeSearch: e => {
              return setTextSearch(e?.target?.value);
            },
            onClickSearch: onClickClearSearch,
            onFocusSearch: () => {
              return setFocusSearch(true);
            },
            placeholder: placeholderSearch,
            placeholderColor: focusSearch ? 'gray' : null
          })
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_2__.Row, {
          className: _MultipleSelector_module_css__WEBPACK_IMPORTED_MODULE_7__["default"].listOptions,
          maxHeight: "178px",
          maxWidth: maxWithComponents,
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_ListOptions__WEBPACK_IMPORTED_MODULE_6__.ListOptions, {
            onClickCheckBox: onClickCheckBox,
            temporalOptions: temporalOptions
          })
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_2__.Row, {
          alignItems: "center",
          justifyContent: "center",
          padding: "11px 12px 13px 12px",
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_3__.Button, {
            borderRadius: "24px",
            height: "45px",
            label: "Confirmar",
            onClick: onSubmit,
            status: statusButton ? 'initial' : 'disabled',
            width: "216px"
          })
        })]
      })
    })]
  });
};
MultipleSelector.displayName = "MultipleSelector";

/***/ })

});
//# sourceMappingURL=stories_molecules_MultipleSelector_MultipleSelector_tsx.40f66dcf9be584c763ba.hot-update.js.map