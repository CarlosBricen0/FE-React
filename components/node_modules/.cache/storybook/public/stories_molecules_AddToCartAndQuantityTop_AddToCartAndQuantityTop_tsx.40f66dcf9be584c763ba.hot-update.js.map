{"version":3,"file":"stories_molecules_AddToCartAndQuantityTop_AddToCartAndQuantityTop_tsx.40f66dcf9be584c763ba.hot-update.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAMA;AACA;AACA;AAAA;AAGA;AACA;AAEA;AAGA;AACA;AACA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AAAA;AAEA;AACA;AAIA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAGA;AAnHA;;;;;;;;;;;;;;;;;;;ACzBA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAMA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAGA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AAGA;;;;;;;;;;;;;;;;;;ACzGA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AAGA;AAVA","sources":["webpack://components/./stories/molecules/AddToCartAndQuantityTop/AddToCartAndQuantityTop.tsx","webpack://components/./stories/molecules/AddToCartAndQuantityTop/AvailableQuantityBtn.tsx","webpack://components/./stories/molecules/AddToCartAndQuantityTop/LoadingSpinner.tsx"],"sourcesContent":["import { Icon, Text } from '../../atoms'\nimport { Container } from '../../layout'\nimport { QuantityButtonProps } from '..'\nimport { QuantityButtonStylesProps } from '../QuantityButton/QuantityButton'\nimport styles from './AddToCartAndQuantityTop.module.css'\nimport { useState } from 'react'\nimport { AvailableQuantityBtn } from './AvailableQuantityBtn'\nimport { LoadingSpinner } from './LoadingSpinner'\nimport { useMediaQuery } from 'react-responsive'\nimport { getGlobalStyle } from '../../../helpers'\n\nexport interface AddToCartAndQuantityTopProps {\n  disabled?: boolean;\n  disabledInput?: boolean;\n  disabledPlus?: boolean;\n  isLoading?: boolean;\n  itemId?: string | number;\n  maxQuantity?: number;\n  maxWidth?: string;\n  quantity?: number;\n  quantityButtonProps?: Omit<QuantityButtonProps, 'value'>;\n  quantityButtonStyles?: QuantityButtonStylesProps;\n  unitMultiplier?: number;\n}\n\nexport const AddToCartAndQuantityTop = ({\n  disabledInput,\n  disabledPlus,\n  isLoading,\n  itemId,\n  maxQuantity = 99,\n  maxWidth = '300px',\n  quantity,\n  quantityButtonProps,\n  quantityButtonStyles,\n  unitMultiplier = 1\n}: AddToCartAndQuantityTopProps) => {\n  const parsedQuantity = parseFloat((quantity * unitMultiplier).toFixed(1))\n  const quantityUnit = parsedQuantity / unitMultiplier\n  const [inputOnFocus, setInputOnFocus] = useState(false)\n  const isMobile = useMediaQuery({ maxWidth: 1279 })\n  const mobileDelay = isMobile ? styles.quantityButton__fadeInDelay : ''\n\n  const handleOnClick = () => {\n    quantityButtonProps?.handleOnClick({ itemId })\n  }\n\n  const availableQuantityBtnProps = {\n    disabledInput,\n    disabledPlus,\n    isLoading,\n    isMobile,\n    itemId,\n    maxQuantity,\n    quantity: parsedQuantity,\n    quantityButtonProps,\n    quantityButtonStyles,\n    quantityUnit,\n    unitMultiplier,\n    setInputOnFocus\n  }\n\n  return (\n    <Container maxWidth={maxWidth}>\n      <Container customClassName={styles.quantityButton__container} justifyContent='end'>\n        <Container\n          alignItems='center'\n          borderRadius='24px'\n          clickable='pointer'\n          customClassName={`${styles.quantityButton__fadeIn} ${mobileDelay}`}\n          justifyContent='center'\n          maxHeight='30px'\n        >\n          {isMobile || quantityUnit > 0 || inputOnFocus ? (\n            <AvailableQuantityBtn {...availableQuantityBtnProps}/>\n          ) : (\n            <Container\n              alignItems='center'\n              alignSelf='center'\n              clickable='pointer'\n              justifyContent='center'\n              minHeight='30px'\n              onClick={isLoading ? undefined : handleOnClick}\n            >\n              {isLoading ? (\n                <LoadingSpinner />\n              ) : (\n                <Text\n                  clickable='pointer'\n                  color={'primary-green'}\n                  fontSize='md'\n                >\n                  Agregar\n                </Text>\n              )}\n            </Container>\n          )}\n        </Container>\n        <Container\n          clickable='pointer'\n          customClassName={`${styles.quantityButton__fadeOut} ${mobileDelay}`}\n          justifyContent='end'\n        >\n          {quantityUnit > 0 ? (\n            <Container\n              alignItems='center'\n              alignSelf='center'\n              borderRadius='30px'\n              clickable='pointer'\n              customClassName={styles.quantityButton__withQuantity}\n              customHeight='30px'\n              justifyContent='center'\n              maxWidth='30px'\n            >\n              <Text\n                clickable='pointer'\n                color='white'\n                fontSize='md'\n              >\n                {parsedQuantity}\n              </Text>\n            </Container>\n          ) : (\n            <Container\n              justifyContent='end'\n              maxWidth='30px'\n              onTouchEnd={isMobile && quantity === 0 ? handleOnClick : undefined}\n              zIndex={getGlobalStyle('--z-index-5')}\n            >\n              <Icon\n                clickable='pointer'\n                customSize={30}\n                name='PlusInCircle2'\n              />\n            </Container>\n          )}\n        </Container>\n      </Container>\n    </Container>\n  )\n}","import { Icon, Input } from '../../atoms'\nimport { Container } from '../../layout'\nimport { QuantityButtonProps } from '..'\nimport { getGlobalStyle } from '../../../helpers'\nimport { QuantityButtonStylesProps } from '../QuantityButton/QuantityButton'\nimport { LoadingSpinner } from './LoadingSpinner'\n\nexport interface AvailableQuantityBtnProps {\n  disabledInput?: boolean;\n  disabledPlus?: boolean;\n  isLoading?: boolean;\n  isMobile?: boolean;\n  itemId?: string | number;\n  maxQuantity?: number;\n  quantity?: number | string;\n  quantityButtonProps?: Omit<QuantityButtonProps, 'value'>;\n  quantityButtonStyles?: QuantityButtonStylesProps;\n  quantityUnit: number;\n  unitMultiplier?: number;\n  setInputOnFocus: (props: boolean) => void;\n}\n\nexport const AvailableQuantityBtn = ({\n  disabledInput,\n  disabledPlus,\n  isLoading,\n  isMobile,\n  itemId,\n  maxQuantity = 99,\n  quantity,\n  quantityButtonProps,\n  quantityButtonStyles,\n  quantityUnit,\n  unitMultiplier,\n  setInputOnFocus\n}: AvailableQuantityBtnProps) => {\n  const quantityZero = quantity === 0\n\n  const handleAdd = () => {\n    quantityButtonProps.handleAdd({ itemId })\n  }\n\n  const handleRemove = () => {\n    quantityButtonProps.handleRemove({ itemId })\n  }\n\n  const handleChange = (e?: React.ChangeEvent<HTMLInputElement>) => {\n    const inputQuantity = parseInt(e.target.value.replace(/^0/g, ''))\n    const inputValue = inputQuantity >= maxQuantity ? maxQuantity : inputQuantity\n    e.target.value = inputValue.toString()\n    quantityButtonProps.handleChange(e , { itemId })\n  }\n\n  return (\n    <>\n      <Container\n        justifyContent='start'\n        margin='0px -5px 0px 0px'\n        zIndex={getGlobalStyle('--z-index-5')}\n      >\n        <Icon\n          clickable={isLoading || quantityZero ? 'no-drop' : 'pointer'}\n          customSize={30}\n          name={quantityUnit > 1 ? 'MinusInCircle' : 'TrashInCircle'}\n          onClick={isLoading || quantityZero ? undefined : handleRemove}\n        />\n      </Container>\n      <Container alignSelf='center' justifyContent='center'>\n        <Container\n          alignSelf='center'\n          justifyContent='center'\n          minWidth={isMobile ? '25px' : '45px'}\n        >\n          {isLoading ? (\n            <LoadingSpinner />\n          ) : (\n            <Input\n              background={getGlobalStyle('--color-base-transparent')}\n              color={getGlobalStyle('--color-primary-green')}\n              disabled={isLoading || disabledInput || unitMultiplier % 1 != 0}\n              fontSize={quantityButtonStyles?.fontSize}\n              height={quantityButtonStyles?.maxHeight}\n              onBlur={() => {setInputOnFocus(false)}}\n              onChange={handleChange}\n              onFocus={() => {setInputOnFocus(true)}}\n              type='number'\n              value={quantity}\n              width='100%'\n            />\n          )}\n        </Container>\n      </Container>\n      <Container\n        justifyContent='end'\n        margin='0px 0px 0px -5px'\n      >\n        <Icon\n          clickable={(disabledPlus || isLoading) ? 'no-drop' : 'pointer'}\n          customSize={30}\n          name='PlusInCircle'\n          onClick={!(disabledPlus || isLoading) ? handleAdd : undefined}\n        />\n      </Container>\n    </>\n  )\n}","import { Icon } from '../../atoms'\nimport { getGlobalStyle } from '../../../helpers'\nimport styles from './AddToCartAndQuantityTop.module.css'\n\nexport const LoadingSpinner = () => {\n  return (\n    <div className={styles.loading} >\n      <Icon\n        color={getGlobalStyle('--color-primary-green')}\n        customSize={20}\n        name='Loading'\n      />\n    </div>\n  )\n}"],"names":[],"sourceRoot":""}