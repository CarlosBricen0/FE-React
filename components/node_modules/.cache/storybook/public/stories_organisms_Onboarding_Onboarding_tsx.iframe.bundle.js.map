{"version":3,"file":"stories_organisms_Onboarding_Onboarding_tsx.iframe.bundle.js","mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AAKA;AAMA;AAMA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AAIA;AAAA;AAIA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAGA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AAGA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAGA;AAAA;AAEA;AAIA;AAAA;AAAA;AAIA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AA/MA;;;;;;;;;;;;;;;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://components/./stories/organisms/Onboarding/Onboarding.tsx","webpack://components/./stories/organisms/Onboarding/Onboarding.module.css","webpack://components/./stories/organisms/Onboarding/Onboarding.module.css?02ae"],"sourcesContent":["import {\n  useEffect,\n  useRef,\n  useState\n} from 'react'\nimport {\n  Button,\n  Icon,\n  Picture,\n  Text\n} from '../../atoms'\nimport {\n  Column,\n  Container,\n  Row,\n  Spacer\n} from '../../layout'\nimport { v4 as uuid } from 'uuid'\nimport { getGlobalStyle } from '../../../helpers'\nimport { Site } from '../../../shared/interfaces/Site'\nimport { Carousel } from '../Carousel/Carousel'\nimport MultiCarousel from 'react-multi-carousel'\nimport styles from './Onboarding.module.css'\n\ninterface OnboardingPropsBanners {\n  title: string;\n  subtitle?: string;\n  image: string;\n}\n\nexport interface OnboardingProps {\n  btnLabel?: string;\n  banners?: OnboardingPropsBanners[];\n  modalBgColor?: string;\n  site?: Site\n  handleClickButton: () => void;\n  onClose: () => void;\n}\n\nexport const Onboarding = ({\n  btnLabel = 'Ver mi cotizaciÃ³n',\n  banners,\n  modalBgColor = getGlobalStyle('--color-base-white'),\n  site = 'unimarc',\n  handleClickButton,\n  onClose\n}: OnboardingProps): React.ReactElement => {\n  const [isLast, setIsLast] = useState(false)\n  const [shortHeight, setShortHeight] = useState(false)\n  const containerProps = { minHeight: '300px', maxWidth: '343px' }\n  const buttonBgColor = site === 'unimarc' ? '--color-primary-red' : '--color-alvi-primary-blue-gradient'\n  const titleColor = site === 'unimarc' ? '--color-primary-red' : '--color-alvi-primary-blue2'\n  const carouselRef = useRef<MultiCarousel>()\n\n  const customHandleNext = () => {\n    const current = carouselRef?.current?.state?.currentSlide\n    carouselRef?.current?.goToSlide(current + 1)\n  }\n\n  const getPictureHeight = () => {\n    if(window.innerHeight <= 570) {\n      return '50%'\n    } else if (shortHeight) {\n      return '80%'\n    }\n    return '100%'\n  }\n\n  const handleChangeButton = () => {\n    if (carouselRef?.current?.state?.currentSlide === banners?.length -1) {\n      setIsLast(true)\n    } else {\n      setIsLast(false)\n    }\n  }\n\n  useEffect(() => {\n    if(window.innerHeight <= 700) {\n      setShortHeight(true)\n    } else {\n      setShortHeight(false)\n    }\n  }, [window.innerHeight])\n\n  return (\n    <Container\n      customClassName={styles.onboardingContainer}\n      customHeight='revert-layer'\n      customWidth='100vw'\n      justifyContent='center'\n      minHeight='-webkit-fill-available'\n      position='fixed'\n      zIndex={getGlobalStyle('--z-index-999')}\n    >\n      <Container\n        backgroundColor={modalBgColor}\n        customClassName={styles.modalStyle}\n        padding='16px'\n      >\n        <Column>\n          <Row justifyContent='end'>\n            <Column\n              backgroundColor={getGlobalStyle('--color-background-gray-dark')}\n              borderRadius={getGlobalStyle('--border-radius-full')}\n              clickable='pointer'\n              height={29}\n              justifyContent='end'\n              onClick={onClose}\n              padding='8px'\n              width={29}\n            >\n              <Icon\n                clickable='pointer'\n                color={getGlobalStyle('--color-icons-gray-dark')}\n                customSize={13}\n                name='Close'\n              />\n            </Column>\n          </Row>\n          {\n            !shortHeight &&\n            <Spacer.Horizontal size={16} />\n          }\n          {\n            banners?.length > 0 &&\n            <>\n              <Container justifyContent='center'>\n                <Carousel\n                  afterChange={handleChangeButton}\n                  arrows={false}\n                  autoPlay={false}\n                  carouselRef={carouselRef}\n                  containerClass={styles.carouselContainerClass}\n                  containerProps={containerProps}\n                  deviceType='mobile'\n                  draggable={false}\n                  infinite={false}\n                  partialVisbile={false}\n                  shouldResetAutoplay={false}\n                  showDots={true}\n                  ssr\n                  swipeable={true}\n                >\n                  {\n                    banners.map(({title, subtitle, image}) => {\n                      return (\n                        <Column\n                          alignItems='center'\n                          justifyContent='center'\n                          key={uuid}\n                        >\n                          <Row margin='auto'>\n                            <Column alignItems='center'>\n                              <Text\n                                customColor={getGlobalStyle(titleColor)}\n                                fontSize='lg'\n                                fontWeight='semibold'\n                                textAlign='center'\n                              >\n                                {title}\n                              </Text>\n                              <Text\n                                color='black'\n                                fontSize='lg'\n                                textAlign='center'\n                              >\n                                {subtitle}\n                              </Text>\n                            </Column>\n                          </Row>\n                          <Spacer.Horizontal size={24} />\n                          <Row\n                            justifyContent='center'\n                            maxWidth='280px'\n                            minWidth='280px'\n                            overflow='hidden'\n                          >\n                            <Picture\n                              alt={title}\n                              customClassName={styles.imgShadow}\n                              height='auto'\n                              src={image}\n                              width={getPictureHeight()}\n                            />\n                          </Row>\n                        </Column>\n                      )\n                    })\n                  }\n                </Carousel>\n              </Container>\n              {\n                !shortHeight &&\n                <Spacer.Horizontal size={16} />\n              }\n            </>\n          }\n          <Row justifyContent='between' padding={shortHeight ? '0 8px' : '0 8px 16px'}>\n            <Column maxWidth='140px'>\n              <Button\n                color={getGlobalStyle('--color-text-gray-light')}\n                label='Saltar'\n                minWidth='43px'\n                onClick={onClose}\n                type='plain'\n                underline='always'\n              />\n            </Column>\n            <Column alignItems='end'>\n              {\n                isLast\n                  ? <Button\n                    borderRadius={getGlobalStyle('--border-radius-full')}\n                    fontSize={getGlobalStyle('--font-size-md')}\n                    fontWeight='600'\n                    label={btnLabel}\n                    maxWidth='150px'\n                    minWidth='150px'\n                    onClick={handleClickButton}\n                    site={site}\n                  />\n                  : <Container\n                    alignItems='end'\n                    background={getGlobalStyle(buttonBgColor)}\n                    borderRadius={getGlobalStyle('--border-radius-full')}\n                    clickable='pointer'\n                    height={40}\n                    onClick={customHandleNext}\n                    padding='8px 15px'\n                    tagName='section'\n                    width={40}\n                  >\n                    <Icon\n                      clickable='pointer'\n                      color={getGlobalStyle('--color-base-white')}\n                      customSize={22}\n                      name='ArrowRight'\n                    />\n                  </Container>\n              }\n            </Column>\n          </Row>\n        </Column>\n      </Container>\n    </Container>\n  )\n}","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".m2NfwHPI0mIyiHEtCjdz {\\n  align-items: center;\\n  background-color: rgba(40,40,40,0.4);\\n  left: 0;\\n  top: 0;\\n}\\n\\n.si1r4nWQb_gOsF9HRSCC {\\n  border-radius: 10px 10px 0px 0px !important;\\n  max-width: 375px !important;\\n}\\n\\n.a7TZWRud7e9tB_gIAIzd {\\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.15);\\n  display: flex;\\n  justify-content: center;\\n}\\n\\n.QkDff9Lfe3DsGRrcz4Gl {\\n  border-radius: 0%;\\n}\\n\\n/* Small only */\\n\\n@media screen and (max-width: 39.9375em) {\\n  .m2NfwHPI0mIyiHEtCjdz {\\n    align-items: end;\\n  }\\n  .si1r4nWQb_gOsF9HRSCC {\\n    max-width: none !important;\\n  }\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./stories/organisms/Onboarding/Onboarding.module.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,mBAAmB;EACnB,oCAAoC;EACpC,OAAO;EACP,MAAM;AACR;;AAEA;EACE,2CAA2C;EAC3C,2BAA2B;AAC7B;;AAEA;EACE,2CAA2C;EAC3C,aAAa;EACb,uBAAuB;AACzB;;AAEA;EACE,iBAAiB;AACnB;;AAEA,eAAe;;AAEf;EACE;IACE,gBAAgB;EAClB;EACA;IACE,0BAA0B;EAC5B;AACF\",\"sourcesContent\":[\".onboardingContainer {\\n  align-items: center;\\n  background-color: rgba(40,40,40,0.4);\\n  left: 0;\\n  top: 0;\\n}\\n\\n.modalStyle {\\n  border-radius: 10px 10px 0px 0px !important;\\n  max-width: 375px !important;\\n}\\n\\n.imgShadow {\\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.15);\\n  display: flex;\\n  justify-content: center;\\n}\\n\\n.carouselContainerClass {\\n  border-radius: 0%;\\n}\\n\\n/* Small only */\\n\\n@media screen and (max-width: 39.9375em) {\\n  .onboardingContainer {\\n    align-items: end;\\n  }\\n  .modalStyle {\\n    max-width: none !important;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"onboardingContainer\": \"m2NfwHPI0mIyiHEtCjdz\",\n\t\"modalStyle\": \"si1r4nWQb_gOsF9HRSCC\",\n\t\"imgShadow\": \"a7TZWRud7e9tB_gIAIzd\",\n\t\"carouselContainerClass\": \"QkDff9Lfe3DsGRrcz4Gl\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!./Onboarding.module.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n  var p;\n  for (p in a) {\n    if (isNamedExport && p === \"default\") {\n      continue;\n    }\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n  for (p in b) {\n    if (isNamedExport && p === \"default\") {\n      continue;\n    }\n    if (!a[p]) {\n      return false;\n    }\n  }\n  return true;\n};\n    var isNamedExport = !content.locals;\n    var oldLocals = isNamedExport ? namedExport : content.locals;\n\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!./Onboarding.module.css\",\n      function () {\n        if (!isEqualLocals(oldLocals, isNamedExport ? namedExport : content.locals, isNamedExport)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = isNamedExport ? namedExport : content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!./Onboarding.module.css\";\n       export default content && content.locals ? content.locals : undefined;\n"],"names":[],"sourceRoot":""}