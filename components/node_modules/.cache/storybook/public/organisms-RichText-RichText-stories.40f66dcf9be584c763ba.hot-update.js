"use strict";
self["webpackHotUpdatecomponents"]("organisms-RichText-RichText-stories",{

/***/ "./stories/organisms/RichText/RichText.tsx":
/*!*************************************************!*\
  !*** ./stories/organisms/RichText/RichText.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RichText": () => (/* binding */ RichText)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
Object(function webpackMissingModule() { var e = new Error("Cannot find module 'uuid'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../helpers */ "./helpers/index.ts");
/* harmony import */ var _layout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../layout */ "./stories/layout/index.ts");
/* harmony import */ var _atoms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../atoms */ "./stories/atoms/index.ts");
/* harmony import */ var _richText_module_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./richText.module.css */ "./stories/organisms/RichText/richText.module.css");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");









const defaultValues = {
  size: {
    desktop: (0,_helpers__WEBPACK_IMPORTED_MODULE_2__.getGlobalStyle)('--font-size-md'),
    mobile: (0,_helpers__WEBPACK_IMPORTED_MODULE_2__.getGlobalStyle)('--font-size-sm')
  },
  bold: 'bold',
  center: false
};
const headingConstantProps = {
  'heading-1': {
    size: {
      desktop: (0,_helpers__WEBPACK_IMPORTED_MODULE_2__.getGlobalStyle)('--font-size-3xl'),
      mobile: (0,_helpers__WEBPACK_IMPORTED_MODULE_2__.getGlobalStyle)('--font-size-xl')
    },
    heading: 'h1',
    bold: 'semibold',
    center: true
  },
  'heading-2': {
    ...defaultValues,
    size: {
      desktop: (0,_helpers__WEBPACK_IMPORTED_MODULE_2__.getGlobalStyle)('--font-size-2xl'),
      mobile: (0,_helpers__WEBPACK_IMPORTED_MODULE_2__.getGlobalStyle)('--font-size-lg')
    },
    heading: 'h2'
  },
  'heading-3': {
    ...defaultValues,
    size: {
      desktop: (0,_helpers__WEBPACK_IMPORTED_MODULE_2__.getGlobalStyle)('--font-size-xl'),
      mobile: (0,_helpers__WEBPACK_IMPORTED_MODULE_2__.getGlobalStyle)('--font-size-md')
    },
    heading: 'h3'
  },
  'heading-4': {
    ...defaultValues,
    heading: 'h4'
  },
  'heading-5': {
    ...defaultValues,
    heading: 'h5'
  },
  'heading-6': {
    ...defaultValues,
    heading: 'h6'
  }
};
const RichText = ({
  richTextData,
  headingStyles,
  link,
  isMobile = false
}) => {
  const headingsStyleValues = Object.keys(headingConstantProps)?.reduce((obj, key) => {
    const findHeadingStyle = headingStyles?.find(headingStyle => {
      return headingStyle?.heading === headingConstantProps[key]?.heading;
    });
    return {
      ...obj,
      [key]: findHeadingStyle || headingConstantProps[key]
    };
  }, {});
  const headingFontSize = isMobile ? 'mobile' : 'desktop';
  const assignListNodes = contentInfo => {
    return contentInfo.map(li => {
      const objLists = {};
      if (li?.['marks']?.length >= 1) {
        objLists['marks'] = li?.['marks'];
      }
      if (li?.['data']?.uri) {
        return {
          ...objLists,
          url: li?.['data']?.uri,
          value: li?.['content']?.[0]?.value
        };
      }
      return {
        ...objLists,
        value: li?.['value']
      };
    });
  };
  const assignNodes = contentNode => {
    const objData = {};
    if (contentNode?.['content']?.[0]?.['marks']?.length >= 1) {
      objData['marks'] = contentNode?.[0]?.['marks'];
    }
    if (contentNode?.['marks']?.length >= 1) {
      objData['marks'] = contentNode?.['marks'];
    }
    if (contentNode?.['data']?.uri) {
      objData['url'] = contentNode?.['data']?.uri;
    }
    return {
      ...objData,
      value: contentNode?.['content']?.[0]?.value || contentNode?.['value']
    };
  };
  const transformContentDataText = textTypeData => {
    return textTypeData?.map?.(data => {
      const contentInfo = content => {
        return content?.['content']?.map?.(contentData => {
          if (data?.['nodeType'] === 'unordered-list' || data?.['nodeType'] === 'ordered-list') {
            return assignListNodes(contentData?.content[0]?.content);
          }
          return assignNodes(contentData);
        });
      };
      return {
        value: contentInfo(data),
        type: data?.['nodeType']
      };
    });
  };
  const mapRichTextData = Object.keys(richTextData[0]).map?.(key => {
    return richTextData[0]?.[key];
  });
  const richText = transformContentDataText(mapRichTextData);
  const assignMarks = (valueMarks, textValue) => {
    let valueToAssign = textValue;
    valueMarks?.map(mark => {
      if (mark?.type === 'italic') {
        valueToAssign = `<em>${valueToAssign}</em>`;
      }
      if (mark?.type === 'bold') {
        valueToAssign = `<strong>${valueToAssign}</strong>`;
      }
      if (mark?.type === 'underline') {
        valueToAssign = `<u>${valueToAssign}</u>`;
      }
    });
    return valueToAssign;
  };
  const assignLink = (url, urlText) => {
    const linkUnderline = link?.underline || 'underline';
    const linkColor = link?.color || 'black';
    return `<a href='${url}' style='text-decoration:${linkUnderline}; color:${linkColor}'>${urlText}</a>`;
  };
  const getMarks = richMarks => {
    return richMarks?.['value']?.map?.(val => {
      let htmlValue = val?.value;
      if (val?.marks) {
        htmlValue = assignMarks(val?.marks, htmlValue);
      }
      if (val?.url) {
        htmlValue = assignLink(val?.url, htmlValue);
      }
      return htmlValue;
    });
  };
  const RenderHeadings = ({
    richTextObject
  }) => {
    const hdStyle = headingsStyleValues[richTextObject?.['type']];
    const isH1Heading = richTextObject?.['type'] === 'heading-1';
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_3__.Column, {
      customWidth: "100",
      tagName: "article",
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Spacer.Horizontal, {
        size: 12
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Row, {
        justifyContent: hdStyle?.center ? 'center' : null,
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_4__.Title, {
          customFontSize: hdStyle?.size?.[headingFontSize],
          fontWeight: hdStyle?.bold,
          headingLevel: hdStyle?.heading,
          text: richTextObject?.['value']?.[0]?.value
        })
      }), isH1Heading && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Spacer.Horizontal, {
        size: 32
      })]
    }, Object(function webpackMissingModule() { var e = new Error("Cannot find module 'uuid'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())());
  };
  const RenderLists = ({
    richTextObject
  }) => {
    const liElements = richTextObject?.['value']?.map?.(liArrElement => {
      const listText = liArrElement?.map?.(liElement => {
        let listHtml = liElement?.value;
        if (liElement?.marks) {
          listHtml = assignMarks(liElement?.marks, liElement?.value);
        }
        if (liElement?.url) {
          listHtml = assignLink(liElement?.url, listHtml);
        }
        return listHtml;
      }).join('');
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("li", {
        className: _richText_module_css__WEBPACK_IMPORTED_MODULE_5__["default"].list,
        dangerouslySetInnerHTML: {
          __html: listText
        }
      }, Object(function webpackMissingModule() { var e = new Error("Cannot find module 'uuid'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())());
    });
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_3__.Column, {
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Spacer.Horizontal, {
        size: 8
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Row, {
        className: _richText_module_css__WEBPACK_IMPORTED_MODULE_5__["default"].ulOl,
        children: richTextObject?.['type'] === 'unordered-list' ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("ul", {
          children: liElements
        }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("ol", {
          children: liElements
        })
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Spacer.Horizontal, {
        size: 8
      })]
    }, Object(function webpackMissingModule() { var e = new Error("Cannot find module 'uuid'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())());
  };
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment, {
    children: richText?.map?.(richElement => {
      const {
        type
      } = richElement;
      if (type?.includes('heading-')) {
        return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(RenderHeadings, {
          richTextObject: richElement
        }, Object(function webpackMissingModule() { var e = new Error("Cannot find module 'uuid'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())());
      }
      if (type === 'unordered-list' || type === 'ordered-list') {
        return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(RenderLists, {
          richTextObject: richElement
        }, Object(function webpackMissingModule() { var e = new Error("Cannot find module 'uuid'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())());
      }
      if (type === 'paragraph') {
        return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Column, {
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_4__.Text, {
            color: "black",
            fontSize: "lg",
            type: "p",
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("span", {
              dangerouslySetInnerHTML: {
                __html: getMarks(richElement).join('')
              }
            })
          })
        }, Object(function webpackMissingModule() { var e = new Error("Cannot find module 'uuid'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())());
      }
      if (type === 'hr') {
        return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_4__.Divider, {}, Object(function webpackMissingModule() { var e = new Error("Cannot find module 'uuid'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())());
      }
      if (type === 'blockquote') {
        return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div", {
          className: _richText_module_css__WEBPACK_IMPORTED_MODULE_5__["default"].blockQuote,
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_4__.Text, {
            color: "black",
            fontSize: "lg",
            type: "p",
            children: getMarks(richElement).join('')
          })
        }, Object(function webpackMissingModule() { var e = new Error("Cannot find module 'uuid'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())());
      }
      return null;
    })
  });
};

/***/ })

});
//# sourceMappingURL=organisms-RichText-RichText-stories.40f66dcf9be584c763ba.hot-update.js.map