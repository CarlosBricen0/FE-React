{"version":3,"file":"organisms-RichText-RichText-stories.40f66dcf9be584c763ba.hot-update.js","mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAKA;AAKA;AAAA;AAAA;AAAA;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AAGA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AAEA;AAEA;AAEA;AAAA;AAEA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AAGA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AAIA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AAGA;AACA;AAEA;AAEA;AAAA;AAAA;AAGA;AAEA;AACA;AAEA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AAGA;AAEA;AACA;AAAA;AAGA","sources":["webpack://components/./stories/organisms/RichText/RichText.tsx"],"sourcesContent":["import React from 'react'\nimport { v4 as uuid } from 'uuid'\nimport { getGlobalStyle } from '../../../helpers'\nimport {\n  Column,\n  Row,\n  Spacer\n} from '../../layout'\nimport {\n  Divider,\n  Text,\n  Title\n} from '../../atoms'\nimport styles from './richText.module.css'\n\nexport interface LinkProps {\n  underline?: boolean;\n  color?: string;\n}\nexport interface SizeHeadingType {\n  desktop?: string;\n  mobile?: string;\n}\nexport interface HeadingStyleProps {\n  size: SizeHeadingType;\n  heading: 'h1' | 'h2' | 'h3' | 'h4' | 'h5' | 'h6';\n  bold: string;\n  center: boolean;\n}\n\nexport interface RichTextProps {\n  richTextData: Array<object>;\n  headingStyles?: Array<HeadingStyleProps>;\n  link?: LinkProps;\n  isMobile?: boolean;\n}\n\ninterface TextRenderProps {\n  richTextObject: object;\n}\n\nconst defaultValues = {\n  size: {\n    desktop: getGlobalStyle('--font-size-md'),\n    mobile: getGlobalStyle('--font-size-sm')\n  },\n  bold: 'bold',\n  center: false\n}\n\nconst headingConstantProps = {\n  'heading-1': {\n    size: {\n      desktop: getGlobalStyle('--font-size-3xl'),\n      mobile: getGlobalStyle('--font-size-xl')\n    },\n    heading: 'h1',\n    bold: 'semibold',\n    center: true\n  },\n  'heading-2': {\n    ...defaultValues,\n    size: {\n      desktop: getGlobalStyle('--font-size-2xl'),\n      mobile: getGlobalStyle('--font-size-lg')\n    },\n    heading: 'h2'\n  },\n  'heading-3': {\n    ...defaultValues,\n    size: {\n      desktop: getGlobalStyle('--font-size-xl'),\n      mobile: getGlobalStyle('--font-size-md')\n    },\n    heading: 'h3'\n  },\n  'heading-4':  {\n    ...defaultValues,\n    heading: 'h4'\n  },\n  'heading-5':  {\n    ...defaultValues,\n    heading: 'h5'\n  },\n  'heading-6':  {\n    ...defaultValues,\n    heading: 'h6'\n  }\n}\n\nexport const RichText = ({\n  richTextData,\n  headingStyles,\n  link,\n  isMobile = false\n}: RichTextProps): React.ReactElement<RichTextProps> => {\n\n  const headingsStyleValues = Object.keys(headingConstantProps)?.reduce((obj,key) => {\n    const findHeadingStyle = headingStyles?.find((headingStyle) => {\n      return headingStyle?.heading === headingConstantProps[key]?.heading\n    })\n    return { ...obj, [key]: findHeadingStyle || headingConstantProps[key]}\n  }, {})\n  const headingFontSize = isMobile ? 'mobile' : 'desktop'\n\n  const assignListNodes = (contentInfo: Array<object>): object => {\n    return contentInfo.map((li) => {\n      const objLists: object = {}\n\n      if (li?.['marks']?.length >= 1) {\n        objLists['marks'] = li?.['marks']\n      }\n\n      if (li?.['data']?.uri) {\n        return {\n          ...objLists,\n          url: li?.['data']?.uri,\n          value: li?.['content']?.[0]?.value\n        }\n      }\n\n      return {\n        ...objLists,\n        value: li?.['value']\n      }\n    })\n  }\n\n  const assignNodes = (contentNode: Array<object>): object => {\n    const objData: object = {}\n\n    if (contentNode?.['content']?.[0]?.['marks']?.length >= 1) {\n      objData['marks'] = contentNode?.[0]?.['marks']\n    }\n\n    if (contentNode?.['marks']?.length >= 1) {\n      objData['marks'] = contentNode?.['marks']\n    }\n\n    if (contentNode?.['data']?.uri) {\n      objData['url'] = contentNode?.['data']?.uri\n    }\n\n    return {\n      ...objData,\n      value: contentNode?.['content']?.[0]?.value || contentNode?.['value']\n    }\n  }\n\n  const transformContentDataText = (textTypeData: Array<object>) => {\n    return textTypeData?.map?.((data) => {\n      const contentInfo = (content) => {\n        return content?.['content']?.map?.((contentData) => {\n\n          if (data?.['nodeType'] === 'unordered-list' || data?.['nodeType'] === 'ordered-list') {\n            return assignListNodes(contentData?.content[0]?.content)\n          }\n\n          return assignNodes(contentData)\n        })\n      }\n\n      return {\n        value: contentInfo(data),\n        type: data?.['nodeType']\n      }\n    })\n  }\n\n  const mapRichTextData = Object.keys(richTextData[0]).map?.((key) => { return richTextData[0]?.[key] })\n  const richText = transformContentDataText(mapRichTextData)\n\n  const assignMarks = (valueMarks, textValue) => {\n    let valueToAssign = textValue\n\n    valueMarks?.map((mark) => {\n      if (mark?.type === 'italic') {\n        valueToAssign = `<em>${valueToAssign}</em>`\n      }\n      if (mark?.type === 'bold') {\n        valueToAssign = `<strong>${valueToAssign}</strong>`\n      }\n      if (mark?.type === 'underline') {\n        valueToAssign = `<u>${valueToAssign}</u>`\n      }\n    })\n\n    return valueToAssign\n  }\n\n  const assignLink = (url, urlText) => {\n    const linkUnderline = link?.underline || 'underline'\n    const linkColor = link?.color || 'black'\n\n    return (\n      `<a href='${url}' style='text-decoration:${linkUnderline}; color:${linkColor}'>${urlText}</a>`\n    )\n  }\n\n  const getMarks = (richMarks: object) => {\n    return richMarks?.['value']?.map?.((val) => {\n      let htmlValue = val?.value\n\n      if (val?.marks) {\n        htmlValue = assignMarks(val?.marks, htmlValue)\n      }\n\n      if (val?.url) {\n        htmlValue = assignLink(val?.url, htmlValue)\n      }\n\n      return htmlValue\n    })\n  }\n\n  const RenderHeadings = ({ richTextObject }: TextRenderProps) => {\n    const hdStyle = headingsStyleValues[richTextObject?.['type']]\n    const isH1Heading = richTextObject?.['type'] === 'heading-1'\n\n    return (\n      <Column\n        customWidth='100'\n        key={uuid()}\n        tagName='article'\n      >\n        <Spacer.Horizontal size={12} />\n        <Row justifyContent={hdStyle?.center ? 'center' : null}>\n          <Title\n            customFontSize={hdStyle?.size?.[headingFontSize]}\n            fontWeight={hdStyle?.bold}\n            headingLevel={hdStyle?.heading}\n            text={richTextObject?.['value']?.[0]?.value}\n          />\n        </Row>\n        {isH1Heading && <Spacer.Horizontal size={32} />}\n      </Column>\n    )\n  }\n\n  const RenderLists = ({ richTextObject }: TextRenderProps) => {\n    const liElements = richTextObject?.['value']?.map?.((liArrElement) => {\n      const listText = liArrElement?.map?.((liElement) => {\n        let listHtml = liElement?.value\n\n        if (liElement?.marks) {\n          listHtml = assignMarks(liElement?.marks, liElement?.value )\n        }\n        if (liElement?.url) {\n          listHtml = assignLink(liElement?.url, listHtml)\n        }\n\n        return listHtml\n      }).join('')\n\n      return (\n        <li\n          className={styles.list}\n          dangerouslySetInnerHTML={{__html: listText}}\n          key={uuid()}\n        />\n      )\n    })\n\n    return (\n      <Column key={uuid()}>\n        <Spacer.Horizontal size={8} />\n        <Row className={styles.ulOl}>\n          { richTextObject?.['type'] === 'unordered-list' ? (\n            <ul>\n              {liElements}\n            </ul>\n          ) : (\n            <ol>\n              {liElements}\n            </ol>\n          )}\n        </Row>\n        <Spacer.Horizontal size={8} />\n      </Column>\n    )\n  }\n\n  return (\n    <>\n      {richText?.map?.((richElement) => {\n        const { type } = richElement\n\n        if (type?.includes('heading-')) {\n          return <RenderHeadings key={uuid()} richTextObject={richElement}/>\n        }\n\n        if (type === 'unordered-list' || type === 'ordered-list') {\n          return <RenderLists key={uuid()} richTextObject={richElement} />\n        }\n\n        if (type === 'paragraph') {\n          return (\n            <Column key={uuid()}>\n              <Text\n                color='black'\n                fontSize='lg'\n                type='p'\n              >\n                <span dangerouslySetInnerHTML={{ __html: getMarks(richElement).join('') }}/>\n              </Text>\n            </Column>\n          )\n        }\n\n        if (type === 'hr') {\n          return <Divider key={uuid()}/>\n        }\n\n        if (type === 'blockquote') {\n          return (\n            <div className={styles.blockQuote} key={uuid()}>\n              <Text\n                color='black'\n                fontSize='lg'\n                type='p'\n              >\n                {getMarks(richElement).join('')}\n              </Text>\n            </div>\n          )\n        }\n\n        return null\n      })}\n    </>\n  )\n}"],"names":[],"sourceRoot":""}