"use strict";
self["webpackHotUpdatecomponents"]("organisms-LocalsFinder-LocalsFinder-stories",{

/***/ "./stories/organisms/LocalsFinder/LocalsFinder.tsx":
/*!*********************************************************!*\
  !*** ./stories/organisms/LocalsFinder/LocalsFinder.tsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LocalsFinder": () => (/* binding */ LocalsFinder)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../helpers */ "./helpers/index.ts");
/* harmony import */ var _atoms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../atoms */ "./stories/atoms/index.ts");
/* harmony import */ var _layout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../layout */ "./stories/layout/index.ts");
/* harmony import */ var _molecules__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../molecules */ "./stories/molecules/index.ts");
/* harmony import */ var _StoreBox_StoreBox__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StoreBox/StoreBox */ "./stories/organisms/LocalsFinder/StoreBox/StoreBox.tsx");
/* harmony import */ var _StoreList_StoreList__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./StoreList/StoreList */ "./stories/organisms/LocalsFinder/StoreList/StoreList.tsx");
/* harmony import */ var _StoreZoneFilter_StoreZoneFilter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./StoreZoneFilter/StoreZoneFilter */ "./stories/organisms/LocalsFinder/StoreZoneFilter/StoreZoneFilter.tsx");
/* harmony import */ var _StoreGeolocationActivator_StoreGeolocationActivator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./StoreGeolocationActivator/StoreGeolocationActivator */ "./stories/organisms/LocalsFinder/StoreGeolocationActivator/StoreGeolocationActivator.tsx");
/* harmony import */ var _LocalsFinderLoader_LocalsFinderLoader__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./LocalsFinderLoader/LocalsFinderLoader */ "./stories/organisms/LocalsFinder/LocalsFinderLoader/LocalsFinderLoader.tsx");
/* harmony import */ var _LocalsFinder_helper__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./LocalsFinder.helper */ "./stories/organisms/LocalsFinder/LocalsFinder.helper.ts");
/* harmony import */ var _LocalsFinder_module_css__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./LocalsFinder.module.css */ "./stories/organisms/LocalsFinder/LocalsFinder.module.css");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");















const LocalsFinder = ({
  children,
  distance,
  isFailed,
  isLoading,
  items = [],
  selected,
  site = 'unimarc',
  onLocationChange,
  onRetryClick,
  onSelectedChange,
  onStoreListButtonClick,
  onStoresChange
}) => {
  const [commune, setCommune] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();
  const [location, setLocation] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();
  const [region, setRegion] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();
  const [height, setHeight] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('100vh');
  const list = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  const {
    communes,
    locals,
    regions
  } = (0,_LocalsFinder_helper__WEBPACK_IMPORTED_MODULE_10__.useLocalsFinder)({
    filters: {
      commune,
      location,
      region
    },
    items
  });
  const handleSelectedClean = () => {
    if (onSelectedChange) {
      onSelectedChange(null);
    }
  };
  const handleCommuneChange = commune => {
    setCommune(commune);
    setLocation(null);
    if (onSelectedChange) {
      onSelectedChange(null);
    }
  };
  const handleGeolocationChange = locationInput => {
    setCommune(null);
    setRegion(null);
    setLocation(locationInput);
  };
  const handleRegionChange = region => {
    setRegion(region);
    setLocation(null);
    if (onSelectedChange) {
      onSelectedChange(null);
    }
  };
  const handleRetryClick = () => {
    if (onRetryClick) {
      onRetryClick();
    }
  };
  const handleStoreBoxButtonClick = store => {
    if (onStoreListButtonClick) {
      onStoreListButtonClick(store);
    }
  };
  const handleStoreBoxShowDetailsButtonClick = store => {
    if (!onSelectedChange) return;
    if (selected?.key != store.key) {
      onSelectedChange(store);
    } else {
      onSelectedChange(null);
    }
    window.scrollTo(0, 0);
  };
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (list.current && selected) {
      list.current.scrollTop = 0;
      const button = list.current.querySelectorAll('button').item(0);
      if (button) {
        const boundingClientRect = button.getBoundingClientRect();
        list.current.scrollTop = boundingClientRect.top - 600;
      }
    }
  }, [selected]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (onLocationChange) {
      onLocationChange(location);
    }
  }, [location]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (onStoresChange) {
      onStoresChange(locals);
    }
  }, [region, commune]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (onStoresChange) {
      onStoresChange(locals);
    }
  }, [isLoading]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const outerHeight = `${window.outerHeight}px`;
    window.addEventListener('resize', () => {
      const innerHeight = `${window.innerHeight}px`;
      if (innerHeight != height) {
        setHeight(innerHeight);
      }
    });
    setHeight(outerHeight);
  }, []);
  if (isLoading) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_LocalsFinderLoader_LocalsFinderLoader__WEBPACK_IMPORTED_MODULE_9__.LocalsFinderLoader, {
      children: children
    });
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_helpers__WEBPACK_IMPORTED_MODULE_1__.BigScreen, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_3__.Row, {
        gap: 18,
        margin: "64px 0 16px",
        maxWidth: "1315px",
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_3__.Column, {
          gap: 16,
          maxWidth: "398px",
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_3__.Column, {
            backgroundColor: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-base-white'),
            borderRadius: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--border-radius-2sm'),
            boxShadow: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--box-shadow-2xs'),
            padding: "16px",
            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_StoreZoneFilter_StoreZoneFilter__WEBPACK_IMPORTED_MODULE_7__.StoreZoneFilter, {
              commune: commune,
              communes: communes,
              onCommuneChange: handleCommuneChange,
              onRegionChange: handleRegionChange,
              region: region,
              regions: regions,
              title: "Buscar local"
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_StoreGeolocationActivator_StoreGeolocationActivator__WEBPACK_IMPORTED_MODULE_8__.GeolocationActivator, {
              onChange: handleGeolocationChange,
              site: site,
              value: location
            })]
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Container, {
            backgroundColor: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-base-white'),
            borderRadius: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--border-radius-2sm'),
            boxShadow: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--box-shadow-2xs'),
            padding: "0 0 0 16px",
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Container, {
              customClassName: _LocalsFinder_module_css__WEBPACK_IMPORTED_MODULE_11__["default"].scrollBarUnimarc,
              margin: "0 8px 0 0",
              maxHeight: "405px",
              padding: "16px 8px 16px 0",
              ref: list,
              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_StoreList_StoreList__WEBPACK_IMPORTED_MODULE_6__.StoreList, {
                isFailed: isFailed,
                items: locals,
                onRetryClick: handleRetryClick,
                onStoreBoxButtonClick: handleStoreBoxButtonClick,
                onStoreBoxShowDetailsClick: handleStoreBoxShowDetailsButtonClick,
                selected: selected,
                site: site,
                title: "Nuestros locales"
              })
            })
          })]
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Container, {
          backgroundColor: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-base-white'),
          borderRadius: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--border-radius-2sm'),
          boxShadow: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--box-shadow-2xs'),
          overflow: "hidden",
          children: children
        })]
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_helpers__WEBPACK_IMPORTED_MODULE_1__.SmallScreen, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_3__.Column, {
        padding: "40px 0 0",
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_3__.Row, {
          backgroundColor: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-base-white'),
          gap: 8,
          padding: "16px",
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Container, {
            clickable: "pointer",
            hidden: !selected,
            maxWidth: "20px",
            onClick: handleSelectedClean,
            padding: "4px",
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Icon, {
              clickable: "pointer",
              color: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-text-black'),
              customSize: 16,
              name: "ArrowBackNavigate",
              onClick: handleSelectedClean
            })
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Text, {
            fontSize: "lg",
            fontWeight: "semibold",
            lineHeight: "22px",
            children: selected ? 'Detalle del local' : 'Locales y horarios'
          })]
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_3__.Column, {
          gap: 16,
          padding: selected ? null : '16px',
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_3__.Column, {
            backgroundColor: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-base-white'),
            borderRadius: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--border-radius-2sm'),
            boxShadow: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--box-shadow-2xs'),
            hidden: !!selected,
            padding: "16px",
            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_StoreZoneFilter_StoreZoneFilter__WEBPACK_IMPORTED_MODULE_7__.StoreZoneFilter, {
              commune: commune,
              communes: communes,
              onCommuneChange: handleCommuneChange,
              onRegionChange: handleRegionChange,
              region: region,
              regions: regions,
              title: "Buscar local"
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_StoreGeolocationActivator_StoreGeolocationActivator__WEBPACK_IMPORTED_MODULE_8__.GeolocationActivator, {
              onChange: handleGeolocationChange,
              site: site,
              value: location
            })]
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Container, {
            hidden: !!selected,
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_StoreList_StoreList__WEBPACK_IMPORTED_MODULE_6__.StoreList, {
              isFailed: isFailed,
              items: locals,
              onRetryClick: handleRetryClick,
              onStoreBoxButtonClick: handleStoreBoxButtonClick,
              onStoreBoxShowDetailsClick: handleStoreBoxShowDetailsButtonClick,
              selected: selected
            })
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Container, {
            hidden: !selected,
            children: children
          })]
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_molecules__WEBPACK_IMPORTED_MODULE_4__.Modal, {
          dragRatio: 0.1,
          fullScreen: true,
          hiddenX: true,
          hideOverlay: true,
          isOpen: !!selected,
          marginFullScreen: `calc(${height} - 250px) 0 0`,
          minFullscreenTranslation: 137,
          toggle: handleSelectedClean,
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Container, {
            padding: "8px 0",
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_StoreBox_StoreBox__WEBPACK_IMPORTED_MODULE_5__.StoreBox, {
              address: selected?.address,
              closedAt: selected?.closedAt,
              details: selected?.details,
              distance: distance,
              hideDetailToggle: true,
              isClosed: selected?.closed,
              isOpen: true,
              onButtonClick: () => {
                handleStoreBoxButtonClick(selected);
              },
              site: site,
              title: selected?.title
            })
          })
        })]
      })
    })]
  });
};

/***/ }),

/***/ "./stories/organisms/LocalsFinder/LocalsFinderLoader/LocalsFinderLoader.tsx":
/*!**********************************************************************************!*\
  !*** ./stories/organisms/LocalsFinder/LocalsFinderLoader/LocalsFinderLoader.tsx ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LocalsFinderLoader": () => (/* binding */ LocalsFinderLoader)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../helpers */ "./helpers/index.ts");
/* harmony import */ var _atoms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../atoms */ "./stories/atoms/index.ts");
/* harmony import */ var _layout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../layout */ "./stories/layout/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");







const LocalsFinderLoader = ({
  children
}) => {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_helpers__WEBPACK_IMPORTED_MODULE_1__.BigScreen, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_3__.Row, {
        gap: 18,
        margin: "64px 0 16px",
        maxWidth: "1315px",
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_3__.Column, {
          gap: 16,
          maxWidth: "398px",
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_3__.Column, {
            backgroundColor: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-base-white'),
            borderRadius: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--border-radius-2sm'),
            boxShadow: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--box-shadow-2xs'),
            gap: 8,
            padding: "16px",
            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Container, {
              width: 116,
              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Backbone, {
                borderRadius: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--border-radius-2xs'),
                height: 27
              })
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Divider, {
              color: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-neutral-gray'),
              verticalMargin: 0
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Container, {
              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Backbone, {
                borderRadius: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--border-radius-2xs'),
                height: 65
              })
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Container, {
              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Backbone, {
                borderRadius: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--border-radius-2xs'),
                height: 65
              })
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Container, {
              width: 128,
              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Backbone, {
                borderRadius: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--border-radius-2xs'),
                height: 27
              })
            })]
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Container, {
            backgroundColor: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-base-white'),
            borderRadius: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--border-radius-2sm'),
            boxShadow: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--box-shadow-2xs'),
            padding: "16px",
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_3__.Column, {
              gap: 8,
              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Container, {
                width: 160,
                children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Backbone, {
                  borderRadius: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--border-radius-2xs'),
                  height: 27
                })
              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Divider, {
                color: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-neutral-gray'),
                verticalMargin: 0
              }), Array.from(Array(3).keys()).map(index => {
                return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), {
                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Container, {
                    width: 150,
                    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Backbone, {
                      borderRadius: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--border-radius-2xs'),
                      height: 20
                    })
                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Container, {
                    width: 190,
                    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Backbone, {
                      borderRadius: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--border-radius-2xs'),
                      height: 20
                    })
                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_3__.Row, {
                    justifyContent: "between",
                    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Container, {
                      width: 140,
                      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Backbone, {
                        borderRadius: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--border-radius-2xs'),
                        height: 20
                      })
                    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Container, {
                      width: 40,
                      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Backbone, {
                        borderRadius: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--border-radius-2xs'),
                        height: 20
                      })
                    })]
                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Divider, {
                    color: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-neutral-gray'),
                    verticalMargin: 0
                  })]
                }, index);
              })]
            })
          })]
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Container, {
          backgroundColor: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-base-white'),
          borderRadius: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--border-radius-2sm'),
          boxShadow: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--box-shadow-2xs'),
          overflow: "hidden",
          children: children
        })]
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_helpers__WEBPACK_IMPORTED_MODULE_1__.SmallScreen, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_3__.Column, {
        padding: "22px 0 0",
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Row, {
          backgroundColor: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-base-white'),
          gap: 8,
          padding: "16px",
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Text, {
            fontSize: "lg",
            fontWeight: "semibold",
            lineHeight: "22px",
            children: "Locales y horarios"
          })
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_3__.Column, {
          gap: 16,
          padding: "16px",
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Container, {
            backgroundColor: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-base-white'),
            borderRadius: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--border-radius-2sm'),
            boxShadow: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--box-shadow-2xs'),
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Backbone, {
              borderRadius: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--border-radius-2xs'),
              height: 200
            })
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_3__.Column, {
            gap: 8,
            children: [Array.from(Array(10).keys()).map((_e, index) => {
              return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Container, {
                children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Backbone, {
                  borderRadius: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--border-radius-2xs'),
                  height: 93
                })
              }, index);
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Container, {
              padding: "8px 24px",
              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Backbone, {
                borderRadius: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--border-radius-xl'),
                height: 35
              })
            })]
          })]
        })]
      })
    })]
  });
};

/***/ }),

/***/ "./stories/organisms/LocalsFinder/StoreBox/StoreBox.tsx":
/*!**************************************************************!*\
  !*** ./stories/organisms/LocalsFinder/StoreBox/StoreBox.tsx ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "StoreBox": () => (/* binding */ StoreBox)
/* harmony export */ });
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../helpers */ "./helpers/index.ts");
/* harmony import */ var _atoms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../atoms */ "./stories/atoms/index.ts");
/* harmony import */ var _layout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../layout */ "./stories/layout/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");





const StoreBox = ({
  address,
  closedAt,
  details = [],
  distance,
  hideDetailToggle,
  isClosed,
  isOpen,
  site = 'unimarc',
  title = 'Unimarc Manquehue',
  onButtonClick,
  onShowDetailsClick
}) => {
  const handleButtonClick = () => {
    if (onButtonClick) {
      onButtonClick();
    }
  };
  const handleDetailClick = () => {
    if (onShowDetailsClick) {
      onShowDetailsClick();
    }
  };
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_2__.Column, {
    gap: hideDetailToggle ? 12 : 8,
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_2__.Column, {
      gap: hideDetailToggle ? 2 : 4,
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_1__.Title, {
        fontWeight: "semibold",
        headingLevel: "h6",
        children: title
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_1__.Text, {
        fontSize: "md",
        children: address
      })]
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_2__.Row, {
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_2__.Row, {
        gap: 4,
        maxWidth: "50%",
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_1__.Text, {
          color: isClosed ? 'error' : 'success',
          fontSize: "sm",
          fontWeight: "semibold",
          children: isClosed ? 'Cerrado' : 'Abierto'
        }), closedAt && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_atoms__WEBPACK_IMPORTED_MODULE_1__.Text, {
          color: "neutral-dark",
          fontSize: "sm",
          children: ["Cierra a las ", closedAt]
        })]
      }), !hideDetailToggle && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_2__.Row, {
        justifyContent: "end",
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_1__.Text, {
          clickable: "pointer",
          fontSize: "sm",
          onClick: handleDetailClick,
          textDecorationLine: "underline",
          children: isOpen ? 'Ver menos' : 'Ver más'
        })
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_2__.Row, {
        gap: 4,
        hidden: !distance,
        justifyContent: "end",
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_1__.Icon, {
          color: "black",
          name: "Location"
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_atoms__WEBPACK_IMPORTED_MODULE_1__.Text, {
          fontSize: "sm",
          children: [distance, " km"]
        })]
      })]
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_2__.Column, {
      hidden: !isOpen,
      children: details.map((detail, index) => {
        const {
          0: name,
          1: value
        } = detail;
        return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_2__.Row, {
          gap: 4,
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_atoms__WEBPACK_IMPORTED_MODULE_1__.Text, {
            fontSize: "sm",
            fontWeight: "semibold",
            children: [name, ":"]
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_1__.Text, {
            fontSize: "sm",
            children: value
          })]
        }, index);
      })
    }), isOpen && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_2__.Container, {
      padding: "0 16px",
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_1__.Button, {
        borderRadius: (0,_helpers__WEBPACK_IMPORTED_MODULE_0__.getGlobalStyle)('--border-radius-xl'),
        fontWeight: "600",
        fullWidth: true,
        height: "40px",
        label: "C\xF3mo llegar",
        onClick: handleButtonClick,
        site: site,
        size: "xs"
      })
    })]
  });
};
StoreBox.displayName = "StoreBox";

/***/ }),

/***/ "./stories/organisms/LocalsFinder/StoreGeolocationActivator/StoreGeolocationActivator.tsx":
/*!************************************************************************************************!*\
  !*** ./stories/organisms/LocalsFinder/StoreGeolocationActivator/StoreGeolocationActivator.tsx ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GeolocationActivator": () => (/* binding */ GeolocationActivator)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../helpers */ "./helpers/index.ts");
/* harmony import */ var _atoms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../atoms */ "./stories/atoms/index.ts");
/* harmony import */ var _layout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../layout */ "./stories/layout/index.ts");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./helpers */ "./stories/organisms/LocalsFinder/StoreGeolocationActivator/helpers/getGeolocationPermissionIsGranted.helper.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");







const setBackground = site => {
  if (site === 'alvi') return (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-alvi-primary-blue-gradient');
  return (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-primary-red-header');
};
const GeolocationActivator = ({
  activationLabel = 'Activar ubicación',
  label = 'Ubicación actual',
  site = 'unimarc',
  value,
  onChange
}) => {
  const [active, setActive] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const iconColor = value ? (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-base-white') : (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-base-black');
  const iconBackground = value ? setBackground(site) : (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-neutral-gray-light');
  const handleActivateClick = () => {
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(() => {
        // NOSONAR
        setActive(true);
      });
    }
  };
  const handleCurrentClick = () => {
    if (!onChange) return;
    if (value) {
      onChange(null);
      return;
    }
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(location => {
        // NOSONAR
        onChange(location);
      });
    }
  };
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (navigator.geolocation && !active) {
      (0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getGeolocationPermissionIsGranted)().then(isGranted => {
        setActive(isGranted);
      });
    }
  }, []);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_3__.Row, {
    alignItems: "center",
    gap: 8,
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Container, {
      background: iconBackground,
      borderRadius: "2em",
      clickable: active ? 'pointer' : 'click',
      onClick: active ? handleCurrentClick : null,
      padding: "6px",
      width: 30,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Icon, {
        color: iconColor,
        customSize: 16,
        name: "Localization"
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Text, {
      clickable: active ? 'pointer' : 'click',
      color: active ? 'black' : 'inactive',
      fontSize: "sm",
      onClick: active ? handleCurrentClick : null,
      textDecorationLine: "underline",
      children: label
    }), !active && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Text, {
      clickable: "pointer",
      color: site === 'unimarc' ? 'primary' : 'blue2',
      fontSize: "sm",
      fontWeight: "semibold",
      onClick: handleActivateClick,
      textDecorationLine: "underline",
      children: activationLabel
    })]
  });
};
GeolocationActivator.displayName = "GeolocationActivator";

/***/ }),

/***/ "./stories/organisms/LocalsFinder/StoreList/StoreList.tsx":
/*!****************************************************************!*\
  !*** ./stories/organisms/LocalsFinder/StoreList/StoreList.tsx ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "StoreList": () => (/* binding */ StoreList)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../helpers */ "./helpers/index.ts");
/* harmony import */ var _atoms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../atoms */ "./stories/atoms/index.ts");
/* harmony import */ var _layout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../layout */ "./stories/layout/index.ts");
/* harmony import */ var _StoreBox_StoreBox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../StoreBox/StoreBox */ "./stories/organisms/LocalsFinder/StoreBox/StoreBox.tsx");
/* harmony import */ var _StoreListFailed_StoreListFailed__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StoreListFailed/StoreListFailed */ "./stories/organisms/LocalsFinder/StoreList/StoreListFailed/StoreListFailed.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");









const StoreList = ({
  isFailed,
  items = [],
  selected,
  site = 'unimarc',
  title = 'Buscar tienda',
  onRetryClick,
  onStoreBoxButtonClick,
  onStoreBoxShowDetailsClick
}) => {
  const [slice, setSlice] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(10);
  const handleButtonClick = store => {
    return () => {
      if (onStoreBoxButtonClick) {
        onStoreBoxButtonClick(store);
      }
    };
  };
  const handleDetailClick = store => {
    return () => {
      if (onStoreBoxShowDetailsClick) {
        onStoreBoxShowDetailsClick(store);
      }
    };
  };
  const handleLoadMore = () => {
    setSlice(slice + 10);
  };
  const handleStoreListFailedClick = () => {
    if (onRetryClick) {
      onRetryClick();
    }
  };
  if (isFailed) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_StoreListFailed_StoreListFailed__WEBPACK_IMPORTED_MODULE_5__.StoreListFailed, {
      onClick: handleStoreListFailedClick,
      title: title
    });
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_3__.Column, {
    gap: 6,
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_helpers__WEBPACK_IMPORTED_MODULE_1__.BigScreen, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment, {
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Title, {
          fontWeight: "semibold",
          headingLevel: "h3",
          children: title
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Divider, {
          color: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-background-gray'),
          verticalMargin: 0
        }), Array.isArray(items) && items?.map((item, index) => {
          return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), {
            children: [index > 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_helpers__WEBPACK_IMPORTED_MODULE_1__.BigScreen, {
              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Divider, {
                color: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-background-gray'),
                verticalMargin: 4
              })
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_StoreBox_StoreBox__WEBPACK_IMPORTED_MODULE_4__.StoreBox, {
              address: item.address,
              closedAt: item.closedAt,
              details: item.details,
              isClosed: item.closed,
              isOpen: selected?.key === item.key,
              onButtonClick: handleButtonClick(item),
              onShowDetailsClick: handleDetailClick(item),
              site: site,
              title: item.title
            }, item.key)]
          }, `${item.title}`);
        })]
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_helpers__WEBPACK_IMPORTED_MODULE_1__.SmallScreen, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment, {
        children: [Array.isArray(items) && items?.slice(0, slice).map((item, index) => {
          return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), {
            children: [index > 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_helpers__WEBPACK_IMPORTED_MODULE_1__.BigScreen, {
              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Divider, {
                color: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-background-gray'),
                verticalMargin: 4
              })
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_3__.Row, {
              backgroundColor: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-base-white'),
              borderRadius: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--border-radius-2sm'),
              onClick: handleDetailClick(item),
              padding: "16px",
              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_StoreBox_StoreBox__WEBPACK_IMPORTED_MODULE_4__.StoreBox, {
                address: item.address,
                closedAt: item.closedAt,
                details: item.details,
                hideDetailToggle: true,
                isClosed: item.closed,
                isOpen: selected?.key === item.key,
                onButtonClick: handleButtonClick(item),
                onShowDetailsClick: handleDetailClick(item),
                site: site,
                title: item.title
              }, item.key), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Column, {
                margin: "auto",
                maxWidth: "16px",
                children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Icon, {
                  color: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-neutral-gray-dark'),
                  name: "ArrowRight"
                })
              })]
            })]
          }, item.title);
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Container, {
          hidden: items.length < slice,
          padding: "24px 0",
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Button, {
            borderRadius: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--border-radius-xl'),
            fullWidth: true,
            label: "Cargar m\xE1s resultados",
            onClick: handleLoadMore,
            site: site,
            size: "medium",
            type: "secondary"
          })
        })]
      })
    })]
  });
};
StoreList.displayName = "StoreList";

/***/ }),

/***/ "./stories/organisms/LocalsFinder/StoreList/StoreListFailed/StoreListFailed.tsx":
/*!**************************************************************************************!*\
  !*** ./stories/organisms/LocalsFinder/StoreList/StoreListFailed/StoreListFailed.tsx ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "StoreListFailed": () => (/* binding */ StoreListFailed)
/* harmony export */ });
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../helpers */ "./helpers/index.ts");
/* harmony import */ var _atoms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../atoms */ "./stories/atoms/index.ts");
/* harmony import */ var _layout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../layout */ "./stories/layout/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");





const StoreListFailed = ({
  title,
  onClick
}) => {
  const handleButtonClick = () => {
    if (onClick) {
      onClick();
    }
  };
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_2__.Column, {
    alignItems: "center",
    gap: 30,
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_2__.Column, {
      gap: 6,
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_1__.Title, {
        fontWeight: "semibold",
        headingLevel: "h3",
        textAlign: "left",
        children: title
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_1__.Divider, {
        color: (0,_helpers__WEBPACK_IMPORTED_MODULE_0__.getGlobalStyle)('--color-background-gray'),
        verticalMargin: 0
      })]
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_2__.Container, {
      borderRadius: "20px",
      justifyContent: "center",
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_1__.Icon, {
        customSize: 135,
        name: "MapExclamationCircle"
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_1__.Text, {
      fontWeight: "semibold",
      textAlign: "center",
      children: "Lo sentimos, no hemos podido cargar los locales. Intenta nuevamente."
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_1__.Button, {
      borderRadius: "24px",
      fontWeight: "600",
      height: "45px",
      label: "Reintentar",
      onClick: handleButtonClick,
      size: "xs"
    })]
  });
};
StoreListFailed.displayName = "StoreListFailed";

/***/ }),

/***/ "./stories/organisms/LocalsFinder/StoreZoneFilter/StoreZoneFilter.tsx":
/*!****************************************************************************!*\
  !*** ./stories/organisms/LocalsFinder/StoreZoneFilter/StoreZoneFilter.tsx ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "StoreZoneFilter": () => (/* binding */ StoreZoneFilter)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../helpers */ "./helpers/index.ts");
/* harmony import */ var _atoms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../atoms */ "./stories/atoms/index.ts");
/* harmony import */ var _layout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../layout */ "./stories/layout/index.ts");
/* harmony import */ var _molecules__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../molecules */ "./stories/molecules/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");








const StoreZoneFilter = ({
  commune = '',
  communes = [],
  region = '',
  regions = [],
  title = 'Buscar zona',
  onCommuneChange,
  onRegionChange
}) => {
  const refCommune = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const refRegion = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const communesFiltered = communes.filter(commune => {
    return region ? region === commune.region : true;
  });
  const communesOptions = communesFiltered.map(commune => {
    return commune.commune;
  });
  const regionsOptions = regions.map(region => {
    return region.region;
  });
  const handleCommuneSelectChange = async event => {
    const {
      value
    } = event.target;
    if (value === 'Seleccionar comuna') {
      onCommuneChange(null);
    } else {
      onCommuneChange(value);
    }
  };
  const handleCommuneSelectChangeValue = value => {
    if (value === 'Seleccionar comuna') {
      onCommuneChange(null);
    } else {
      onCommuneChange(value);
    }
  };
  const handleRegionSelectChange = event => {
    const {
      value
    } = event.target;
    if (value === 'Seleccionar región') {
      onRegionChange(null);
    } else {
      onRegionChange(value);
    }
    refCommune.current.value = 'Seleccionar comuna';
    onCommuneChange(null);
  };
  const handleRegionSelectChangeValue = value => {
    if (value === 'Seleccionar región') {
      onRegionChange(null);
    } else {
      onRegionChange(value);
    }
    onCommuneChange(null);
  };
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!commune && refCommune.current) {
      refCommune.current.value = 'Seleccionar comuna';
    }
    if (!region && refRegion.current) {
      refRegion.current.value = 'Seleccionar region';
    }
  }, [commune, region]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_3__.Column, {
    gap: 8,
    children: [title && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment, {
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Title, {
        fontWeight: "semibold",
        headingLevel: "h3",
        children: title
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Divider, {
        color: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-background-gray'),
        verticalMargin: 0
      })]
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_molecules__WEBPACK_IMPORTED_MODULE_4__.Field, {
      label: "Regi\xF3n",
      labelProps: {
        fontSize: 'sm'
      },
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_helpers__WEBPACK_IMPORTED_MODULE_1__.BigScreen, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_3__.Column, {
          gap: 6,
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_molecules__WEBPACK_IMPORTED_MODULE_4__.Dropdown, {
            maxOptions: 7,
            onChange: handleRegionSelectChangeValue,
            options: regionsOptions,
            placeholder: "Seleccionar regi\xF3n",
            value: region
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Divider, {
            color: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-background-gray'),
            verticalMargin: 0
          })]
        })
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_helpers__WEBPACK_IMPORTED_MODULE_1__.SmallScreen, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_molecules__WEBPACK_IMPORTED_MODULE_4__.Selector, {
          appearance: "none",
          fontSize: "md",
          marginLess: true,
          onChange: handleRegionSelectChange,
          options: regionsOptions,
          placeholder: "Seleccionar regi\xF3n",
          ref: refRegion
        })
      })]
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_molecules__WEBPACK_IMPORTED_MODULE_4__.Field, {
      label: "Comuna",
      labelProps: {
        fontSize: 'sm'
      },
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_helpers__WEBPACK_IMPORTED_MODULE_1__.BigScreen, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_3__.Column, {
          gap: 6,
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_molecules__WEBPACK_IMPORTED_MODULE_4__.Dropdown, {
            maxOptions: 7,
            onChange: handleCommuneSelectChangeValue,
            options: communesOptions,
            placeholder: "Seleccionar comuna",
            value: commune
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Divider, {
            color: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-background-gray'),
            verticalMargin: 0
          })]
        })
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_helpers__WEBPACK_IMPORTED_MODULE_1__.SmallScreen, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_molecules__WEBPACK_IMPORTED_MODULE_4__.Selector, {
          appearance: "none",
          fontSize: "md",
          marginLess: true,
          onChange: handleCommuneSelectChange,
          options: communesOptions,
          placeholder: "Seleccionar comuna",
          ref: refCommune
        })
      })]
    })]
  });
};
StoreZoneFilter.displayName = "StoreZoneFilter";

/***/ })

});
//# sourceMappingURL=organisms-LocalsFinder-LocalsFinder-stories.40f66dcf9be584c763ba.hot-update.js.map