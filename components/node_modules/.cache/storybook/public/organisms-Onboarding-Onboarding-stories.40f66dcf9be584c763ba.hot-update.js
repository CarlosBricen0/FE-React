"use strict";
self["webpackHotUpdatecomponents"]("organisms-Onboarding-Onboarding-stories",{

/***/ "./stories/organisms/Onboarding/Onboarding.tsx":
/*!*****************************************************!*\
  !*** ./stories/organisms/Onboarding/Onboarding.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Onboarding": () => (/* binding */ Onboarding)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _atoms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../atoms */ "./stories/atoms/index.ts");
/* harmony import */ var _layout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../layout */ "./stories/layout/index.ts");
Object(function webpackMissingModule() { var e = new Error("Cannot find module 'uuid'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../helpers */ "./helpers/index.ts");
/* harmony import */ var _Carousel_Carousel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Carousel/Carousel */ "./stories/organisms/Carousel/Carousel.tsx");
/* harmony import */ var _Onboarding_module_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Onboarding.module.css */ "./stories/organisms/Onboarding/Onboarding.module.css");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");










const Onboarding = ({
  btnLabel = 'Ver mi cotizaciÃ³n',
  banners,
  modalBgColor = (0,_helpers__WEBPACK_IMPORTED_MODULE_4__.getGlobalStyle)('--color-base-white'),
  site = 'unimarc',
  handleClickButton,
  onClose
}) => {
  const [isLast, setIsLast] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [shortHeight, setShortHeight] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const containerProps = {
    minHeight: '300px',
    maxWidth: '343px'
  };
  const buttonBgColor = site === 'unimarc' ? '--color-primary-red' : '--color-alvi-primary-blue-gradient';
  const titleColor = site === 'unimarc' ? '--color-primary-red' : '--color-alvi-primary-blue2';
  const carouselRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  const customHandleNext = () => {
    const current = carouselRef?.current?.state?.currentSlide;
    carouselRef?.current?.goToSlide(current + 1);
  };
  const getPictureHeight = () => {
    if (window.innerHeight <= 570) {
      return '50%';
    } else if (shortHeight) {
      return '80%';
    }
    return '100%';
  };
  const handleChangeButton = () => {
    if (carouselRef?.current?.state?.currentSlide === banners?.length - 1) {
      setIsLast(true);
    } else {
      setIsLast(false);
    }
  };
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (window.innerHeight <= 700) {
      setShortHeight(true);
    } else {
      setShortHeight(false);
    }
  }, [window.innerHeight]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_2__.Container, {
    customClassName: _Onboarding_module_css__WEBPACK_IMPORTED_MODULE_6__["default"].onboardingContainer,
    customHeight: "revert-layer",
    customWidth: "100vw",
    justifyContent: "center",
    minHeight: "-webkit-fill-available",
    position: "fixed",
    zIndex: (0,_helpers__WEBPACK_IMPORTED_MODULE_4__.getGlobalStyle)('--z-index-999'),
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_2__.Container, {
      backgroundColor: modalBgColor,
      customClassName: _Onboarding_module_css__WEBPACK_IMPORTED_MODULE_6__["default"].modalStyle,
      padding: "16px",
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_2__.Column, {
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_2__.Row, {
          justifyContent: "end",
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_2__.Column, {
            backgroundColor: (0,_helpers__WEBPACK_IMPORTED_MODULE_4__.getGlobalStyle)('--color-background-gray-dark'),
            borderRadius: (0,_helpers__WEBPACK_IMPORTED_MODULE_4__.getGlobalStyle)('--border-radius-full'),
            clickable: "pointer",
            height: 29,
            justifyContent: "end",
            onClick: onClose,
            padding: "8px",
            width: 29,
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_1__.Icon, {
              clickable: "pointer",
              color: (0,_helpers__WEBPACK_IMPORTED_MODULE_4__.getGlobalStyle)('--color-icons-gray-dark'),
              customSize: 13,
              name: "Close"
            })
          })
        }), !shortHeight && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_2__.Spacer.Horizontal, {
          size: 16
        }), banners?.length > 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment, {
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_2__.Container, {
            justifyContent: "center",
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_Carousel_Carousel__WEBPACK_IMPORTED_MODULE_5__.Carousel, {
              afterChange: handleChangeButton,
              arrows: false,
              autoPlay: false,
              carouselRef: carouselRef,
              containerClass: _Onboarding_module_css__WEBPACK_IMPORTED_MODULE_6__["default"].carouselContainerClass,
              containerProps: containerProps,
              deviceType: "mobile",
              draggable: false,
              infinite: false,
              partialVisbile: false,
              shouldResetAutoplay: false,
              showDots: true,
              ssr: true,
              swipeable: true,
              children: banners.map(({
                title,
                subtitle,
                image
              }) => {
                return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_2__.Column, {
                  alignItems: "center",
                  justifyContent: "center",
                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_2__.Row, {
                    margin: "auto",
                    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_2__.Column, {
                      alignItems: "center",
                      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_1__.Text, {
                        customColor: (0,_helpers__WEBPACK_IMPORTED_MODULE_4__.getGlobalStyle)(titleColor),
                        fontSize: "lg",
                        fontWeight: "semibold",
                        textAlign: "center",
                        children: title
                      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_1__.Text, {
                        color: "black",
                        fontSize: "lg",
                        textAlign: "center",
                        children: subtitle
                      })]
                    })
                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_2__.Spacer.Horizontal, {
                    size: 24
                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_2__.Row, {
                    justifyContent: "center",
                    maxWidth: "280px",
                    minWidth: "280px",
                    overflow: "hidden",
                    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_1__.Picture, {
                      alt: title,
                      customClassName: _Onboarding_module_css__WEBPACK_IMPORTED_MODULE_6__["default"].imgShadow,
                      height: "auto",
                      src: image,
                      width: getPictureHeight()
                    })
                  })]
                }, Object(function webpackMissingModule() { var e = new Error("Cannot find module 'uuid'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));
              })
            })
          }), !shortHeight && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_2__.Spacer.Horizontal, {
            size: 16
          })]
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_2__.Row, {
          justifyContent: "between",
          padding: shortHeight ? '0 8px' : '0 8px 16px',
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_2__.Column, {
            maxWidth: "140px",
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_1__.Button, {
              color: (0,_helpers__WEBPACK_IMPORTED_MODULE_4__.getGlobalStyle)('--color-text-gray-light'),
              label: "Saltar",
              minWidth: "43px",
              onClick: onClose,
              type: "plain",
              underline: "always"
            })
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_2__.Column, {
            alignItems: "end",
            children: isLast ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_1__.Button, {
              borderRadius: (0,_helpers__WEBPACK_IMPORTED_MODULE_4__.getGlobalStyle)('--border-radius-full'),
              fontSize: (0,_helpers__WEBPACK_IMPORTED_MODULE_4__.getGlobalStyle)('--font-size-md'),
              fontWeight: "600",
              label: btnLabel,
              maxWidth: "150px",
              minWidth: "150px",
              onClick: handleClickButton,
              site: site
            }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_2__.Container, {
              alignItems: "end",
              background: (0,_helpers__WEBPACK_IMPORTED_MODULE_4__.getGlobalStyle)(buttonBgColor),
              borderRadius: (0,_helpers__WEBPACK_IMPORTED_MODULE_4__.getGlobalStyle)('--border-radius-full'),
              clickable: "pointer",
              height: 40,
              onClick: customHandleNext,
              padding: "8px 15px",
              tagName: "section",
              width: 40,
              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_1__.Icon, {
                clickable: "pointer",
                color: (0,_helpers__WEBPACK_IMPORTED_MODULE_4__.getGlobalStyle)('--color-base-white'),
                customSize: 22,
                name: "ArrowRight"
              })
            })
          })]
        })]
      })
    })
  });
};
Onboarding.displayName = "Onboarding";

/***/ })

});
//# sourceMappingURL=organisms-Onboarding-Onboarding-stories.40f66dcf9be584c763ba.hot-update.js.map