{"version":3,"file":"organisms-LoginModal-LoginModal-stories.40f66dcf9be584c763ba.hot-update.js","mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAGA;;;;;;;;;;;;;;;;;;;;;;;;AChDA;AAIA;AAMA;AAUA;AAKA;AACA;AACA;AAKA;AAAA;AAAA;AAAA;AAmCA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAIA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAEA;AACA;AACA;AAAA;AAGA;AAGA;AACA;AACA;AAAA;AACA;AAGA;AACA;AACA;AAAA;AACA;AAEA;AAEA;AAGA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAEA;AAEA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAGA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAGA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AAGA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAGA;AAAA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAGA;AAAA;AACA;AACA;AACA;AAGA;;;;;;;;;;;;;;;;;;ACpSA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://components/./stories/organisms/LoginModal/LoginModal.tsx","webpack://components/./stories/organisms/LoginModal/LoginModalContent/LoginModalContent.tsx","webpack://components/./stories/organisms/LoginModal/LoginModalContent/helpers/customStyles.ts"],"sourcesContent":["import { BigScreen, SmallScreen } from '../../../helpers'\nimport { Modal } from '../../molecules'\nimport { LoginModalContent, LoginModalContentProps } from './LoginModalContent/LoginModalContent'\nimport styles from './LoginModal.module.css'\n\nexport interface LoginModalProps extends LoginModalContentProps {\n  isOpen?: boolean;\n  maxHeight?: string;\n  maxWidth?: string;\n  site?: 'unimarc' | 'alvi';\n}\n\nexport const LoginModal = ({\n  isOpen,\n  maxHeight = 'initial',\n  maxWidth = '819px',\n  site = 'unimarc',\n  onClose,\n  ...props\n}: LoginModalProps) => {\n  return (\n    <>\n      <BigScreen>\n        <Modal\n          className={styles['modal']}\n          isOpen={isOpen}\n          maxHeight={maxHeight}\n          maxWidth={maxWidth}\n          site={site}\n          toggle={onClose}\n          toggleOutside={onClose}\n        >\n          <LoginModalContent {...props} site={site} />\n        </Modal>\n      </BigScreen>\n      <SmallScreen>\n        <Modal\n          fullScreen\n          isOpen={isOpen}\n          site={site}\n          toggle={onClose}\n          toggleOutside={onClose}\n        >\n          <LoginModalContent {...props} site={site} />\n        </Modal>\n      </SmallScreen>\n    </>\n  )\n}\n","import React, {\n  FormEventHandler,\n  useCallback\n} from 'react'\nimport {\n  BigScreen,\n  getGlobalStyle,\n  SmallScreen\n} from '../../../../helpers'\nimport { Site } from '../../../../shared/interfaces/Site'\nimport {\n  Button,\n  ButtonStatus,\n  Input,\n  Link,\n  Picture,\n  Text,\n  Title,\n  Type\n} from '../../../atoms'\nimport {\n  Column,\n  Container,\n  Row\n} from '../../../layout'\nimport { PasswordInput } from '../../../molecules'\nimport { Notification } from '../../../molecules/Notification/Notification'\nimport {\n  getStatusBackgroundColor,\n  getStyleFrom,\n  getStyleWeight\n} from './helpers/customStyles'\nimport styles from './LoginModalContent.module.css'\n\nexport interface LoginFormValues {\n  rut: string;\n  password: string;\n}\n\nexport type LoginFormDirty = Partial<Record<keyof LoginFormValues, boolean>>;\nexport type LoginFormError = Partial<Record<keyof LoginFormValues, string>>;\n\nexport interface LoginModalContentProps {\n  buttonType?: Type;\n  dirty?: LoginFormDirty;\n  disableButtonAlvi?: boolean;\n  disableSubmit?: boolean;\n  errors?: LoginFormError;\n  forgotPasswordHref?: string;\n  imageSrc?: string;\n  infoMessage?: React.ReactNode;\n  loading?: boolean;\n  registerColor?: string;\n  registerHref?: string;\n  site?: Site;\n  text?: React.ReactNode;\n  title?: string;\n  values?: LoginFormValues;\n  onBlur?: React.ChangeEventHandler<HTMLInputElement>;\n  onChange?: React.ChangeEventHandler<HTMLInputElement>;\n  onClose?: () => Promise<void> | void;\n  onForgotPasswordClick?: () => void;\n  onNotificationClose?: () => void;\n  onRegisterClick?: () => void;\n  onSubmit?: () => void;\n}\n\nconst getButtonStatus = (loading: boolean, disableSubmit: boolean) : ButtonStatus => {\n  if (loading) return 'loading'\n  if (disableSubmit) return 'disabled'\n  return undefined\n}\n\nexport const LoginModalContent = ({\n  buttonType,\n  dirty,\n  disableButtonAlvi,\n  disableSubmit,\n  errors,\n  forgotPasswordHref,\n  imageSrc,\n  infoMessage,\n  loading,\n  registerHref,\n  site = 'unimarc',\n  title,\n  values,\n  onBlur,\n  onChange,\n  onForgotPasswordClick,\n  onNotificationClose,\n  onRegisterClick,\n  onSubmit\n}: LoginModalContentProps) => {\n  const unimarcSite = site === 'unimarc'\n  const hasError = useCallback(\n    (field: keyof LoginFormValues) => {\n      return errors?.[field] && !dirty?.[field]\n    },\n    [errors, dirty]\n  )\n\n  const submitButtonStatus = getButtonStatus(loading, disableSubmit || disableButtonAlvi)\n\n  const handleSubmit: FormEventHandler = (e) => {\n    e.preventDefault()\n    onSubmit?.()\n  }\n\n  const statusBackground = getStatusBackgroundColor(submitButtonStatus)\n  const stylesForm = getStyleFrom(unimarcSite)\n  const fontWeight = getStyleWeight(unimarcSite)\n  const imageHeight = unimarcSite ? '552px' : '500px'\n  const buttonMarginTop = unimarcSite ? '140px 0 0 0' : '100px 0 0 0'\n\n  return (\n    <>\n      <Row onSubmit={handleSubmit} tagName='form'>\n        <BigScreen>\n          <Column>\n            <Container className={styles['imageContainer']}>\n              <Picture\n                alt='login-image'\n                className={styles['imageContainer__image']}\n                height={imageHeight}\n                lineHeight={0}\n                objectFit='fill'\n                src={imageSrc}\n                width='400px'\n              />\n            </Container>\n          </Column>\n        </BigScreen>\n        <Column className={stylesForm} position='relative'>\n          <Notification\n            align='top-center'\n            message={infoMessage}\n            onClose={onNotificationClose}\n            show={infoMessage != undefined}\n            showCloseIcon\n            site={site}\n          />\n          <SmallScreen>\n            <Title\n              customFontSize='18px'\n              fontWeight='semibold'\n              headingLevel='h1'\n              text={title ?? '¡Te estábamos esperando!'}\n            />\n          </SmallScreen>\n          <BigScreen>\n            <Title\n              customFontSize='24px'\n              fontWeight='semibold'\n              headingLevel='h1'\n              text={title ?? '¡Te estábamos esperando!'}\n            />\n          </BigScreen>\n          <Container margin='8px 0 0 0'>\n            <Text\n              fontSize='md'\n              isFlex={false}\n              type='span'\n            >\n              {unimarcSite ?\n                <>\n                  Utiliza el rut y contraseña de tu cuenta {' '}\n                  <Text\n                    fontSize='md'\n                    isFlex={false}\n                    type='b'\n                  >Unimarc{' '}</Text>\n                  o {' '}\n                  <Text\n                    fontSize='md'\n                    isFlex={false}\n                    type='b'\n                  >Club Ahorro{' '}</Text>\n                  y obtén todos tus beneficios.\n                </>\n                :\n                <>\n                  Utiliza el rut y contraseña de tu cuenta {' '}\n                  <Text\n                    fontSize='md'\n                    isFlex={false}\n                    type='b'\n                  >Club Alvi{' '}</Text>\n                  y obtén todos tus beneficios.\n                </>\n              }\n            </Text>\n          </Container>\n          <Container className={styles['formGroup']} margin='20px 0 0 0'>\n            <Row margin='0px 0px 8px 0'>\n              <Text\n                fontSize='sm'\n                fontWeight='bold'\n                htmlFor='rut'\n                type='label'\n              >\n                Rut\n              </Text>\n            </Row>\n            <Input\n              customClassName={styles['input--hideAutocomplete']}\n              fontSize={unimarcSite ? 'base' : 'lg'}\n              id='rut'\n              name='rut'\n              onBlur={onBlur}\n              onChange={onChange}\n              placeholder='Ingresa tu número de rut'\n              required\n              textAlign='left'\n              value={values?.rut}\n              width='100%'\n            />\n          </Container>\n          {hasError('rut') && (\n            <Text color='error' fontSize='sm'>\n              {errors?.['rut']}\n            </Text>\n          )}\n          <Container className={styles['formGroup']} margin='16px 0 0 0'>\n            <Row margin='0px 0px 8px 0px'>\n              <Text\n                fontSize='sm'\n                fontWeight='bold'\n                htmlFor='password'\n                type='label'\n              >\n                Contraseña\n              </Text>\n            </Row>\n            <PasswordInput\n              customClassName={styles['input--hideAutocomplete']}\n              id='password'\n              name='password'\n              onChange={onChange}\n              placeholder='Ingresa tu contraseña'\n              required\n              textAlign='left'\n              type='password'\n              value={values?.password}\n              width='100%'\n            />\n          </Container>\n          {hasError('password') && (\n            <Text color='error' fontSize='sm'>\n              {errors?.['password']}\n            </Text>\n          )}\n          <Container margin='12px 0 0 0'>\n            <Link\n              customClassName={styles[unimarcSite ? 'forgotPassword' : 'forgotPasswordAlvi']}\n              href={forgotPasswordHref ?? '#'}\n              onClick={onForgotPasswordClick}\n              underline='always'\n            >\n              Olvidé mi contraseña\n            </Link>\n          </Container>\n          <Container margin={buttonMarginTop}>\n            <Button\n              actionType='submit'\n              background={getGlobalStyle(unimarcSite ? '--color-primary-red-header' : statusBackground)}\n              borderRadius='2rem'\n              fontWeight={fontWeight}\n              label='Ingresar'\n              site={site}\n              size='large'\n              status={submitButtonStatus}\n              type={buttonType}\n              width='100%'\n            />\n          </Container>\n          <Container className={styles['register']} margin='12px 0 0 0'>\n            ¿Aún no tienes cuenta?&nbsp;\n            <Link\n              color={site === 'unimarc' ? getGlobalStyle('--color-primary-red') : getGlobalStyle('--color-alvi-primary-blue')}\n              customClassName={styles['register__link']}\n              href={registerHref ?? '#'}\n              onClick={onRegisterClick}\n              underline='always'\n            >\n              Regístrate\n            </Link>\n          </Container>\n        </Column>\n      </Row>\n    </>\n  )\n}\n","import { getGlobalStyle } from '../../../../../helpers'\nimport styles from '../LoginModalContent.module.css'\n\nexport const getStatusBackgroundColor = (status?: string): string => {\n  return status === 'disabled' ? '--color-alvi-neutral-gray-silver' : '--color-alvi-primary-blue-gradient'\n}\nexport const getStyleFrom = (unimarcSite?: boolean): string => {\n  return styles[unimarcSite ? 'loginFormContainer' : 'loginFormContainer_alvi']\n}\nexport const getStyleWeight = (unimarcSite?: boolean): string => {\n  return getGlobalStyle(unimarcSite ? '--font-weight-bold' : '--font-weight-semibold')\n}"],"names":[],"sourceRoot":""}