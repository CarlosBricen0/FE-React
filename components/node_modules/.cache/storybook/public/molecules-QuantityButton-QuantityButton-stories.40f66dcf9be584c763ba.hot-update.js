"use strict";
self["webpackHotUpdatecomponents"]("molecules-QuantityButton-QuantityButton-stories",{

/***/ "./stories/molecules/QuantityButton/AddRemoveBtn.tsx":
/*!***********************************************************!*\
  !*** ./stories/molecules/QuantityButton/AddRemoveBtn.tsx ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AddOrRemoveBtn": () => (/* binding */ AddOrRemoveBtn)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../helpers */ "./helpers/index.ts");
/* harmony import */ var _atoms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../atoms */ "./stories/atoms/index.ts");
/* harmony import */ var _QuantityButton_module_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./QuantityButton.module.css */ "./stories/molecules/QuantityButton/QuantityButton.module.css");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");





const AddOrRemoveBtn = ({
  circleStyle = {
    iconColor: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-primary-red'),
    sizeButton: '35px',
    sizeCircle: 25
  },
  alternativeBackground,
  disabled,
  site = 'unimarc',
  type,
  handleShake,
  handleQuantity
}) => {
  const iconName = type === 'right' ? 'PlusCircle' : 'MinusCircle';
  const iconColor = disabled ? (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-primary-disabled') : circleStyle.iconColor;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button", {
    "aria-label": type,
    className: _QuantityButton_module_css__WEBPACK_IMPORTED_MODULE_3__["default"][`quantityBtn--${site}`],
    onClick: disabled ? handleShake : handleQuantity,
    style: {
      background: alternativeBackground,
      borderRadius: circleStyle.sizeButton,
      width: circleStyle.sizeButton,
      height: circleStyle.sizeButton
    },
    type: "button",
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div", {
      className: _QuantityButton_module_css__WEBPACK_IMPORTED_MODULE_3__["default"]["quantityBtn--circle"],
      style: {
        height: circleStyle.sizeButton,
        width: circleStyle.sizeButton
      },
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Icon, {
        clickable: "pointer",
        color: iconColor,
        customSize: circleStyle.sizeCircle,
        name: iconName,
        viewBox: "0 0 22 22"
      })
    })
  });
};
AddOrRemoveBtn.displayName = "AddOrRemoveBtn";

/***/ }),

/***/ "./stories/molecules/QuantityButton/QuantityButton.tsx":
/*!*************************************************************!*\
  !*** ./stories/molecules/QuantityButton/QuantityButton.tsx ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "QuantityButton": () => (/* binding */ QuantityButton)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../helpers */ "./helpers/index.ts");
/* harmony import */ var _atoms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../atoms */ "./stories/atoms/index.ts");
/* harmony import */ var _layout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../layout */ "./stories/layout/index.ts");
/* harmony import */ var _AddRemoveBtn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AddRemoveBtn */ "./stories/molecules/QuantityButton/AddRemoveBtn.tsx");
/* harmony import */ var _QuantityButton_module_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./QuantityButton.module.css */ "./stories/molecules/QuantityButton/QuantityButton.module.css");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");








const quantityParams = (site, alternativeBackground) => {
  return {
    siteColor: alternativeBackground || (site === 'unimarc' ? (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-primary-red-qty-button') : (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-alvi-primary-blue-gradient')),
    iconSiteColor: site === 'unimarc' ? (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-primary-red') : (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-alvi-primary-blue')
  };
};
const getQuantityMessage = (isMaxQuantity, showValue, textAfterQuantity) => {
  if (textAfterQuantity && isMaxQuantity) {
    return `Máx ${showValue} ${textAfterQuantity}`;
  }
  if (textAfterQuantity && !isMaxQuantity) {
    return `${showValue} ${textAfterQuantity}`;
  }
  if (!textAfterQuantity && isMaxQuantity) {
    return `Máx ${showValue}`;
  }
  return showValue;
};
const QuantityButton = ({
  alternativeBackground,
  disabled = false,
  disabledInput = false,
  disabledLess = false,
  disabledPlus = false,
  isLoading = false,
  maxQuantity = 100,
  quantity,
  quantityButtonStyles = {
    fontSize: 'md',
    margin: '0px',
    maxHeight: '35px',
    maxWidth: '100%',
    sizeCircle: 25
  },
  site = 'unimarc',
  textAfterQuantity = '',
  value,
  handleAdd,
  handleRemove,
  handleChange
}) => {
  const [shake, setShake] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const getQuantity = parseFloat(`${quantity || value}`);
  const showValue = isLoading ? '' : value;
  const isMaxQuantity = getQuantity >= parseFloat(`${maxQuantity}`);
  const isMinQuantity = getQuantity == 0;
  const isRightDisabled = disabled || disabledPlus || isMaxQuantity;
  const isLeftDisabled = disabled || disabledLess || isMinQuantity;
  const quantityMessage = getQuantityMessage(isMaxQuantity, showValue, textAfterQuantity);
  const {
    siteColor,
    iconSiteColor
  } = quantityParams(site, alternativeBackground);
  const handleValidateInput = e => {
    if (/([a-zA-Z]|[`!@#$%^&*()_+\-=[\]{}':"\\|,.<>/?~])/.test(e.target.value)) return;
    if (e.target.value == '' || e.target.value == null) e.target.value = 1;
    if (e.target.value <= maxQuantity) {
      handleChange(e);
    }
  };
  const addChake = () => {
    setShake(true);
    setTimeout(() => {
      return setShake(false);
    }, 2000);
  };
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_3__.Container, {
    alignItems: "center",
    background: siteColor,
    backgroundColor: siteColor,
    borderRadius: quantityButtonStyles.maxHeight,
    customClassName: shake ? _QuantityButton_module_css__WEBPACK_IMPORTED_MODULE_5__["default"]["quantityBtn--shake"] : '',
    justifyContent: "center",
    margin: quantityButtonStyles.margin,
    maxHeight: quantityButtonStyles.maxHeight,
    maxWidth: quantityButtonStyles.maxWidth,
    minWidth: quantityButtonStyles.minWidth,
    position: "relative",
    tagName: "article",
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_AddRemoveBtn__WEBPACK_IMPORTED_MODULE_4__.AddOrRemoveBtn, {
      alternativeBackground: siteColor,
      circleStyle: {
        iconColor: iconSiteColor,
        sizeButton: quantityButtonStyles.maxHeight,
        sizeCircle: quantityButtonStyles.sizeCircle
      },
      disabled: isLeftDisabled,
      handleQuantity: handleRemove,
      handleShake: addChake,
      site: site,
      type: "left"
    }), !isLoading ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Input, {
      background: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-base-transparent'),
      color: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-base-white'),
      disabled: disabled || isLoading || disabledInput || isMaxQuantity,
      fontSize: quantityButtonStyles.fontSize,
      height: quantityButtonStyles.maxHeight,
      maxWidth: "100%",
      onChange: handleValidateInput,
      type: "text",
      value: quantityMessage,
      width: "100%"
    }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_3__.Row, {
      className: _QuantityButton_module_css__WEBPACK_IMPORTED_MODULE_5__["default"].loading,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_atoms__WEBPACK_IMPORTED_MODULE_2__.Icon, {
        color: (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getGlobalStyle)('--color-alvi-neutral-white'),
        customSize: 20,
        name: "Loading"
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_AddRemoveBtn__WEBPACK_IMPORTED_MODULE_4__.AddOrRemoveBtn, {
      alternativeBackground: siteColor,
      circleStyle: {
        iconColor: iconSiteColor,
        sizeButton: quantityButtonStyles.maxHeight,
        sizeCircle: quantityButtonStyles.sizeCircle
      },
      disabled: isRightDisabled,
      handleQuantity: handleAdd,
      handleShake: addChake,
      site: site,
      type: "right"
    })]
  });
};
QuantityButton.displayName = "QuantityButton";

/***/ })

});
//# sourceMappingURL=molecules-QuantityButton-QuantityButton-stories.40f66dcf9be584c763ba.hot-update.js.map