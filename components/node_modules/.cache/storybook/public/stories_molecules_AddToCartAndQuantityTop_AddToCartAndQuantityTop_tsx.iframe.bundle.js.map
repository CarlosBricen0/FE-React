{"version":3,"file":"stories_molecules_AddToCartAndQuantityTop_AddToCartAndQuantityTop_tsx.iframe.bundle.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAMA;AACA;AACA;AAAA;AAGA;AACA;AAEA;AAGA;AACA;AACA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AAAA;AAEA;AACA;AAIA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAGA;AAnHA;;;;;;;;;;;;;;;;;;;ACzBA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAMA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAGA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AAGA;;;;;;;;;;;;;;;;;;ACzGA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AAGA;AAVA;;;;;;;;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://components/./stories/molecules/AddToCartAndQuantityTop/AddToCartAndQuantityTop.tsx","webpack://components/./stories/molecules/AddToCartAndQuantityTop/AvailableQuantityBtn.tsx","webpack://components/./stories/molecules/AddToCartAndQuantityTop/LoadingSpinner.tsx","webpack://components/./stories/molecules/AddToCartAndQuantityTop/AddToCartAndQuantityTop.module.css","webpack://components/./stories/molecules/AddToCartAndQuantityTop/AddToCartAndQuantityTop.module.css?b6b8"],"sourcesContent":["import { Icon, Text } from '../../atoms'\nimport { Container } from '../../layout'\nimport { QuantityButtonProps } from '..'\nimport { QuantityButtonStylesProps } from '../QuantityButton/QuantityButton'\nimport styles from './AddToCartAndQuantityTop.module.css'\nimport { useState } from 'react'\nimport { AvailableQuantityBtn } from './AvailableQuantityBtn'\nimport { LoadingSpinner } from './LoadingSpinner'\nimport { useMediaQuery } from 'react-responsive'\nimport { getGlobalStyle } from '../../../helpers'\n\nexport interface AddToCartAndQuantityTopProps {\n  disabled?: boolean;\n  disabledInput?: boolean;\n  disabledPlus?: boolean;\n  isLoading?: boolean;\n  itemId?: string | number;\n  maxQuantity?: number;\n  maxWidth?: string;\n  quantity?: number;\n  quantityButtonProps?: Omit<QuantityButtonProps, 'value'>;\n  quantityButtonStyles?: QuantityButtonStylesProps;\n  unitMultiplier?: number;\n}\n\nexport const AddToCartAndQuantityTop = ({\n  disabledInput,\n  disabledPlus,\n  isLoading,\n  itemId,\n  maxQuantity = 99,\n  maxWidth = '300px',\n  quantity,\n  quantityButtonProps,\n  quantityButtonStyles,\n  unitMultiplier = 1\n}: AddToCartAndQuantityTopProps) => {\n  const parsedQuantity = parseFloat((quantity * unitMultiplier).toFixed(1))\n  const quantityUnit = parsedQuantity / unitMultiplier\n  const [inputOnFocus, setInputOnFocus] = useState(false)\n  const isMobile = useMediaQuery({ maxWidth: 1279 })\n  const mobileDelay = isMobile ? styles.quantityButton__fadeInDelay : ''\n\n  const handleOnClick = () => {\n    quantityButtonProps?.handleOnClick({ itemId })\n  }\n\n  const availableQuantityBtnProps = {\n    disabledInput,\n    disabledPlus,\n    isLoading,\n    isMobile,\n    itemId,\n    maxQuantity,\n    quantity: parsedQuantity,\n    quantityButtonProps,\n    quantityButtonStyles,\n    quantityUnit,\n    unitMultiplier,\n    setInputOnFocus\n  }\n\n  return (\n    <Container maxWidth={maxWidth}>\n      <Container customClassName={styles.quantityButton__container} justifyContent='end'>\n        <Container\n          alignItems='center'\n          borderRadius='24px'\n          clickable='pointer'\n          customClassName={`${styles.quantityButton__fadeIn} ${mobileDelay}`}\n          justifyContent='center'\n          maxHeight='30px'\n        >\n          {isMobile || quantityUnit > 0 || inputOnFocus ? (\n            <AvailableQuantityBtn {...availableQuantityBtnProps}/>\n          ) : (\n            <Container\n              alignItems='center'\n              alignSelf='center'\n              clickable='pointer'\n              justifyContent='center'\n              minHeight='30px'\n              onClick={isLoading ? undefined : handleOnClick}\n            >\n              {isLoading ? (\n                <LoadingSpinner />\n              ) : (\n                <Text\n                  clickable='pointer'\n                  color={'primary-green'}\n                  fontSize='md'\n                >\n                  Agregar\n                </Text>\n              )}\n            </Container>\n          )}\n        </Container>\n        <Container\n          clickable='pointer'\n          customClassName={`${styles.quantityButton__fadeOut} ${mobileDelay}`}\n          justifyContent='end'\n        >\n          {quantityUnit > 0 ? (\n            <Container\n              alignItems='center'\n              alignSelf='center'\n              borderRadius='30px'\n              clickable='pointer'\n              customClassName={styles.quantityButton__withQuantity}\n              customHeight='30px'\n              justifyContent='center'\n              maxWidth='30px'\n            >\n              <Text\n                clickable='pointer'\n                color='white'\n                fontSize='md'\n              >\n                {parsedQuantity}\n              </Text>\n            </Container>\n          ) : (\n            <Container\n              justifyContent='end'\n              maxWidth='30px'\n              onTouchEnd={isMobile && quantity === 0 ? handleOnClick : undefined}\n              zIndex={getGlobalStyle('--z-index-5')}\n            >\n              <Icon\n                clickable='pointer'\n                customSize={30}\n                name='PlusInCircle2'\n              />\n            </Container>\n          )}\n        </Container>\n      </Container>\n    </Container>\n  )\n}","import { Icon, Input } from '../../atoms'\nimport { Container } from '../../layout'\nimport { QuantityButtonProps } from '..'\nimport { getGlobalStyle } from '../../../helpers'\nimport { QuantityButtonStylesProps } from '../QuantityButton/QuantityButton'\nimport { LoadingSpinner } from './LoadingSpinner'\n\nexport interface AvailableQuantityBtnProps {\n  disabledInput?: boolean;\n  disabledPlus?: boolean;\n  isLoading?: boolean;\n  isMobile?: boolean;\n  itemId?: string | number;\n  maxQuantity?: number;\n  quantity?: number | string;\n  quantityButtonProps?: Omit<QuantityButtonProps, 'value'>;\n  quantityButtonStyles?: QuantityButtonStylesProps;\n  quantityUnit: number;\n  unitMultiplier?: number;\n  setInputOnFocus: (props: boolean) => void;\n}\n\nexport const AvailableQuantityBtn = ({\n  disabledInput,\n  disabledPlus,\n  isLoading,\n  isMobile,\n  itemId,\n  maxQuantity = 99,\n  quantity,\n  quantityButtonProps,\n  quantityButtonStyles,\n  quantityUnit,\n  unitMultiplier,\n  setInputOnFocus\n}: AvailableQuantityBtnProps) => {\n  const quantityZero = quantity === 0\n\n  const handleAdd = () => {\n    quantityButtonProps.handleAdd({ itemId })\n  }\n\n  const handleRemove = () => {\n    quantityButtonProps.handleRemove({ itemId })\n  }\n\n  const handleChange = (e?: React.ChangeEvent<HTMLInputElement>) => {\n    const inputQuantity = parseInt(e.target.value.replace(/^0/g, ''))\n    const inputValue = inputQuantity >= maxQuantity ? maxQuantity : inputQuantity\n    e.target.value = inputValue.toString()\n    quantityButtonProps.handleChange(e , { itemId })\n  }\n\n  return (\n    <>\n      <Container\n        justifyContent='start'\n        margin='0px -5px 0px 0px'\n        zIndex={getGlobalStyle('--z-index-5')}\n      >\n        <Icon\n          clickable={isLoading || quantityZero ? 'no-drop' : 'pointer'}\n          customSize={30}\n          name={quantityUnit > 1 ? 'MinusInCircle' : 'TrashInCircle'}\n          onClick={isLoading || quantityZero ? undefined : handleRemove}\n        />\n      </Container>\n      <Container alignSelf='center' justifyContent='center'>\n        <Container\n          alignSelf='center'\n          justifyContent='center'\n          minWidth={isMobile ? '25px' : '45px'}\n        >\n          {isLoading ? (\n            <LoadingSpinner />\n          ) : (\n            <Input\n              background={getGlobalStyle('--color-base-transparent')}\n              color={getGlobalStyle('--color-primary-green')}\n              disabled={isLoading || disabledInput || unitMultiplier % 1 != 0}\n              fontSize={quantityButtonStyles?.fontSize}\n              height={quantityButtonStyles?.maxHeight}\n              onBlur={() => {setInputOnFocus(false)}}\n              onChange={handleChange}\n              onFocus={() => {setInputOnFocus(true)}}\n              type='number'\n              value={quantity}\n              width='100%'\n            />\n          )}\n        </Container>\n      </Container>\n      <Container\n        justifyContent='end'\n        margin='0px 0px 0px -5px'\n      >\n        <Icon\n          clickable={(disabledPlus || isLoading) ? 'no-drop' : 'pointer'}\n          customSize={30}\n          name='PlusInCircle'\n          onClick={!(disabledPlus || isLoading) ? handleAdd : undefined}\n        />\n      </Container>\n    </>\n  )\n}","import { Icon } from '../../atoms'\nimport { getGlobalStyle } from '../../../helpers'\nimport styles from './AddToCartAndQuantityTop.module.css'\n\nexport const LoadingSpinner = () => {\n  return (\n    <div className={styles.loading} >\n      <Icon\n        color={getGlobalStyle('--color-primary-green')}\n        customSize={20}\n        name='Loading'\n      />\n    </div>\n  )\n}","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._dQNfbcvXBspdzsHK5Qw {\\n  display: block;\\n  -webkit-tap-highlight-color: transparent;\\n}\\n\\n.djpxPXBX3O9f0jFbFT4P {\\n  border: 1px solid var(--color-primary-green);\\n  background-color: var(--color-primary-green);\\n}\\n\\n.maZEQiY8_z8X5Yw7Lxqp {\\n  opacity: 0;\\n  transition: opacity .2s linear;\\n  background: #F6FFFD;\\n  border: 1px solid var(--color-primary-green);\\n  -webkit-tap-highlight-color: transparent;\\n}\\n\\n.o0F3TE3AwOV9N3BnEtkm {\\n  transition-delay: 3s;\\n}\\n\\n.HY9tLrXBSKfRUBrQDKCe {\\n  margin-top: -30px;\\n  opacity: 1;\\n  -webkit-tap-highlight-color: transparent;\\n}\\n\\n._dQNfbcvXBspdzsHK5Qw:hover > .maZEQiY8_z8X5Yw7Lxqp {\\n  opacity: 1;\\n  transition: opacity .2s linear;\\n}\\n\\n._dQNfbcvXBspdzsHK5Qw:hover > .HY9tLrXBSKfRUBrQDKCe {\\n  opacity: 0;\\n  visibility: hidden;\\n  transition: visibility .1s linear;\\n}\\n\\n.R_KvTeSXL7YY7ycocL1A svg {\\n  animation: QiSePgeGfFFZGYCutQlw 1s linear infinite;\\n  margin-top: 2px;\\n}\\n\\n@keyframes QiSePgeGfFFZGYCutQlw {\\n  from {\\n    transform: rotate(0deg);\\n  }\\n\\n  to {\\n    transform: rotate(360deg);\\n  }\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./stories/molecules/AddToCartAndQuantityTop/AddToCartAndQuantityTop.module.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,cAAc;EACd,wCAAwC;AAC1C;;AAEA;EACE,4CAA4C;EAC5C,4CAA4C;AAC9C;;AAEA;EACE,UAAU;EACV,8BAA8B;EAC9B,mBAAmB;EACnB,4CAA4C;EAC5C,wCAAwC;AAC1C;;AAEA;EACE,oBAAoB;AACtB;;AAEA;EACE,iBAAiB;EACjB,UAAU;EACV,wCAAwC;AAC1C;;AAEA;EACE,UAAU;EACV,8BAA8B;AAChC;;AAEA;EACE,UAAU;EACV,kBAAkB;EAClB,iCAAiC;AACnC;;AAEA;EACE,kDAA6C;EAC7C,eAAe;AACjB;;AAEA;EACE;IACE,uBAAuB;EACzB;;EAEA;IACE,yBAAyB;EAC3B;AACF\",\"sourcesContent\":[\".quantityButton__container {\\n  display: block;\\n  -webkit-tap-highlight-color: transparent;\\n}\\n\\n.quantityButton__withQuantity {\\n  border: 1px solid var(--color-primary-green);\\n  background-color: var(--color-primary-green);\\n}\\n\\n.quantityButton__fadeIn {\\n  opacity: 0;\\n  transition: opacity .2s linear;\\n  background: #F6FFFD;\\n  border: 1px solid var(--color-primary-green);\\n  -webkit-tap-highlight-color: transparent;\\n}\\n\\n.quantityButton__fadeInDelay {\\n  transition-delay: 3s;\\n}\\n\\n.quantityButton__fadeOut {\\n  margin-top: -30px;\\n  opacity: 1;\\n  -webkit-tap-highlight-color: transparent;\\n}\\n\\n.quantityButton__container:hover > .quantityButton__fadeIn {\\n  opacity: 1;\\n  transition: opacity .2s linear;\\n}\\n\\n.quantityButton__container:hover > .quantityButton__fadeOut {\\n  opacity: 0;\\n  visibility: hidden;\\n  transition: visibility .1s linear;\\n}\\n\\n.loading svg {\\n  animation: loading-spinner 1s linear infinite;\\n  margin-top: 2px;\\n}\\n\\n@keyframes loading-spinner {\\n  from {\\n    transform: rotate(0deg);\\n  }\\n\\n  to {\\n    transform: rotate(360deg);\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"quantityButton__container\": \"_dQNfbcvXBspdzsHK5Qw\",\n\t\"quantityButton__withQuantity\": \"djpxPXBX3O9f0jFbFT4P\",\n\t\"quantityButton__fadeIn\": \"maZEQiY8_z8X5Yw7Lxqp\",\n\t\"quantityButton__fadeInDelay\": \"o0F3TE3AwOV9N3BnEtkm\",\n\t\"quantityButton__fadeOut\": \"HY9tLrXBSKfRUBrQDKCe\",\n\t\"loading\": \"R_KvTeSXL7YY7ycocL1A\",\n\t\"loading-spinner\": \"QiSePgeGfFFZGYCutQlw\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!./AddToCartAndQuantityTop.module.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n  var p;\n  for (p in a) {\n    if (isNamedExport && p === \"default\") {\n      continue;\n    }\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n  for (p in b) {\n    if (isNamedExport && p === \"default\") {\n      continue;\n    }\n    if (!a[p]) {\n      return false;\n    }\n  }\n  return true;\n};\n    var isNamedExport = !content.locals;\n    var oldLocals = isNamedExport ? namedExport : content.locals;\n\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!./AddToCartAndQuantityTop.module.css\",\n      function () {\n        if (!isEqualLocals(oldLocals, isNamedExport ? namedExport : content.locals, isNamedExport)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = isNamedExport ? namedExport : content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!./AddToCartAndQuantityTop.module.css\";\n       export default content && content.locals ? content.locals : undefined;\n"],"names":[],"sourceRoot":""}